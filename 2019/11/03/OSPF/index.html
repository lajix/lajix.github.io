<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- å¼ºåˆ¶é¡µé¢åœ¨å½“å‰çª—å£ä»¥ç‹¬ç«‹é¡µé¢æ˜¾ç¤º,é˜²æ­¢åˆ«äººåœ¨æ¡†æ¶é‡Œè°ƒç”¨é¡µé¢ -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>åä¸ºè®¾å¤‡OSPFè·¯ç”±çš„é…ç½® | è¾£é¸¡ç†Šä¸ªäººåšå®¢</title>
  <meta name="description" content="å®éªŒä¸­æœ‰å¾ˆå¤šä¸ªäººçš„ç†è§£ï¼Œå› ä¸ºåŸºç¡€è¾ƒå·®ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›é”™è¯¯çš„åœ°æ–¹ï¼Œå¦‚æœæ‚¨æœ‰å»ºè®®æˆ–ç†è§£ï¼Œæ¬¢è¿åœ¨æ–‡ç« ä¸‹æ–¹ç•™è¨€ğŸ˜ æ–‡ç« è¾ƒé•¿ï¼Œä¸‹æ–¹æµ®åŠ¨æ æœ‰æ–‡ç« ç›®å½•æŒ‰é’®å“ŸğŸ˜ƒ OSPFOpen Shortest Path Firstç¿»è¯‘è¿‡æ¥æ˜¯å¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆ åä¸ºè®¾å¤‡ä¸­OSPFçš„ä¼˜å…ˆçº§æ˜¯ 10 ä»…ä½äºç›´è¿è·¯ç”± OSPFå•åŒºåŸŸé…ç½®å®éªŒè®¾å¤‡HUAWEI AR2220   PC å®éªŒæ‹“æ‰‘&amp;amp;è§„åˆ’æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨å®éªŒæŒ‡å¯¼ä¸­æä¾›çš„">
<meta name="keywords" content="è¯¾ç¨‹">
<meta property="og:type" content="article">
<meta property="og:title" content="åä¸ºè®¾å¤‡OSPFè·¯ç”±çš„é…ç½®">
<meta property="og:url" content="https:&#x2F;&#x2F;eeeje.com&#x2F;2019&#x2F;11&#x2F;03&#x2F;OSPF&#x2F;index.html">
<meta property="og:site_name" content="è¾£é¸¡ç†Šä¸ªäººåšå®¢">
<meta property="og:description" content="å®éªŒä¸­æœ‰å¾ˆå¤šä¸ªäººçš„ç†è§£ï¼Œå› ä¸ºåŸºç¡€è¾ƒå·®ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›é”™è¯¯çš„åœ°æ–¹ï¼Œå¦‚æœæ‚¨æœ‰å»ºè®®æˆ–ç†è§£ï¼Œæ¬¢è¿åœ¨æ–‡ç« ä¸‹æ–¹ç•™è¨€ğŸ˜ æ–‡ç« è¾ƒé•¿ï¼Œä¸‹æ–¹æµ®åŠ¨æ æœ‰æ–‡ç« ç›®å½•æŒ‰é’®å“ŸğŸ˜ƒ OSPFOpen Shortest Path Firstç¿»è¯‘è¿‡æ¥æ˜¯å¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆ åä¸ºè®¾å¤‡ä¸­OSPFçš„ä¼˜å…ˆçº§æ˜¯ 10 ä»…ä½äºç›´è¿è·¯ç”± OSPFå•åŒºåŸŸé…ç½®å®éªŒè®¾å¤‡HUAWEI AR2220   PC å®éªŒæ‹“æ‰‘&amp;amp;è§„åˆ’æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨å®éªŒæŒ‡å¯¼ä¸­æä¾›çš„">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_16-23-38.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_19-55-51.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_19-57-13.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_19-59-47.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_23-42-00.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-03_00-47-57.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-03_01-00-31.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-03_01-06-42.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_10-30-02.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_11-33-35.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_14-15-00.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_15-05-49.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_15-46-07.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_16-11-32.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_17-19-32.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-3&#x2F;Snipaste_2019-11-03_17-42-31.jpg">
<meta property="og:updated_time" content="2019-11-18T11:16:12.879Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;oss.sadly.pw&#x2F;images&#x2F;R-S&#x2F;2019-11-2&#x2F;Snipaste_2019-11-02_16-23-38.jpg">
  <!-- Canonical links -->
  <link rel="canonical" href="https://eeeje.com/2019/11/03/OSPF/index.html">
  
    <link rel="alternate" href="/atom.xml" title="è¾£é¸¡ç†Šä¸ªäººåšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://eeeje.com" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">è¾£é¸¡ç†Š</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> HangZhou, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="æœç´¢" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">é¦–é¡µ</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">å½’æ¡£</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">åˆ†ç±»</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">æ ‡ç­¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="/repository">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">é¡¹ç›®</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-books">
          <a href="/books">
            
            <i class="icon icon-book-fill"></i>
            
            <span class="menu-title">ä¹¦å•</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">å‹é“¾</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">å…³äº</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/lajix" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/lajix" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/bearshili" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://oss.sadly.pw/images/wechat.jpg" target="_blank" title="Wechat" data-toggle=tooltip data-placement=top><i class="icon icon-wechat"></i></a></li>
        
        <li><a href="/mailto:admin@eeeji.com" target="_blank" title="Email" data-toggle=tooltip data-placement=top><i class="icon icon-email"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>åšå®¢æ­£åœ¨å°½åŠ›ä¼˜åŒ–!!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B4%AD%E7%89%A9/">è´­ç‰©</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/">è¿ç»´</a><span class="category-list-count">3</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">å­¦ä¹ </a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BE%E7%A8%8B/" rel="tag">è¯¾ç¨‹</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%AD%E7%89%A9/" rel="tag">è´­ç‰©</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/linux/" style="font-size: 13.33px;">linux</a> <a href="/tags/windows/" style="font-size: 13px;">windows</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 13.67px;">å­¦ä¹ </a> <a href="/tags/%E8%AF%BE%E7%A8%8B/" style="font-size: 14px;">è¯¾ç¨‹</a> <a href="/tags/%E8%B4%AD%E7%89%A9/" style="font-size: 13px;">è´­ç‰©</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">è¿ç»´</a>
              </p>
              <p class="item-title">
                <a href="/2019/11/25/windows/" class="title">Windowså®‰è£…å»ºè®®</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-24T17:44:10.000Z" itemprop="datePublished">2019-11-25</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a>
              </p>
              <p class="item-title">
                <a href="/2019/11/18/ICMP/" class="title">ICMP</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-17T17:44:10.000Z" itemprop="datePublished">2019-11-18</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a>
              </p>
              <p class="item-title">
                <a href="/2019/11/09/ARP/" class="title">ARPå­¦ä¹ ç¬”è®°</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-08T17:09:07.000Z" itemprop="datePublished">2019-11-09</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a>
              </p>
              <p class="item-title">
                <a href="/2019/11/05/11.5/" class="title">11.5ç¬”è®°</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-05T11:05:44.000Z" itemprop="datePublished">2019-11-05</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a>
              </p>
              <p class="item-title">
                <a href="/2019/11/03/1103/" class="title">1103 OSPFç¬”è®°</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-03T11:05:44.000Z" itemprop="datePublished">2019-11-03</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">æ–‡ç« ç›®å½•</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF"><span class="toc-number">1.</span> <span class="toc-text">OSPF</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPFå•åŒºåŸŸé…ç½®"><span class="toc-number">2.</span> <span class="toc-text">OSPFå•åŒºåŸŸé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒè®¾å¤‡"><span class="toc-number">2.1.</span> <span class="toc-text">å®éªŒè®¾å¤‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒæ‹“æ‰‘-amp-è§„åˆ’"><span class="toc-number">2.2.</span> <span class="toc-text">å®éªŒæ‹“æ‰‘&amp;è§„åˆ’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒç›®çš„"><span class="toc-number">2.3.</span> <span class="toc-text">å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒè¿‡ç¨‹"><span class="toc-number">2.4.</span> <span class="toc-text">å®éªŒè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒéªŒè¯"><span class="toc-number">2.5.</span> <span class="toc-text">å®éªŒéªŒè¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPFå¤šåŒºåŸŸé…ç½®"><span class="toc-number">3.</span> <span class="toc-text">OSPFå¤šåŒºåŸŸé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒæ‹“æ‰‘-amp-è§„åˆ’-1"><span class="toc-number">3.1.</span> <span class="toc-text">å®éªŒæ‹“æ‰‘&amp;è§„åˆ’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒç›®çš„-1"><span class="toc-number">3.2.</span> <span class="toc-text">å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒè¿‡ç¨‹-1"><span class="toc-number">3.3.</span> <span class="toc-text">å®éªŒè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒéªŒè¯-1"><span class="toc-number">3.4.</span> <span class="toc-text">å®éªŒéªŒè¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPFçš„è®¤è¯"><span class="toc-number">4.</span> <span class="toc-text">OSPFçš„è®¤è¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒæ‹“æ‰‘-è§„åˆ’"><span class="toc-number">4.1.</span> <span class="toc-text">å®éªŒæ‹“æ‰‘/è§„åˆ’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒç›®çš„-2"><span class="toc-number">4.2.</span> <span class="toc-text">å®éªŒç›®çš„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®éªŒè¿‡ç¨‹-2"><span class="toc-number">4.3.</span> <span class="toc-text">å®éªŒè¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPFåŒºåŸŸè®¤è¯"><span class="toc-number">4.3.1.</span> <span class="toc-text">OSPFåŒºåŸŸè®¤è¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPFé“¾è·¯éªŒè¯"><span class="toc-number">4.3.2.</span> <span class="toc-text">OSPFé“¾è·¯éªŒè¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPFè¢«åŠ¨æ¥å£é…ç½®"><span class="toc-number">4.3.3.</span> <span class="toc-text">OSPFè¢«åŠ¨æ¥å£é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#æ‹“æ‰‘-amp-è§„åˆ’"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">æ‹“æ‰‘&amp;è§„åˆ’</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#å®éªŒè¿‡ç¨‹-3"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">å®éªŒè¿‡ç¨‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#å®éªŒç»“è®º"><span class="toc-number">4.3.3.3.</span> <span class="toc-text">å®éªŒç»“è®º</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSPFçš„Router-ID"><span class="toc-number">4.3.4.</span> <span class="toc-text">OSPFçš„Router-ID</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DRä¸BDR"><span class="toc-number">5.</span> <span class="toc-text">DRä¸BDR</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-OSPF" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      åä¸ºè®¾å¤‡OSPFè·¯ç”±çš„é…ç½®
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2019/11/03/OSPF/" class="article-date">
	  <time datetime="2019-11-02T17:44:10.000Z" itemprop="datePublished">2019-11-03</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/">è·¯ç”±äº¤æ¢</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/%E8%AF%BE%E7%A8%8B/" rel="tag">è¯¾ç¨‹</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/11/03/OSPF/#comments" class="article-comment-link">è¯„è®º</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">å­—æ•°ç»Ÿè®¡: 5.4k(å­—)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">é˜…è¯»æ—¶é•¿: 27(åˆ†)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p><strong>å®éªŒä¸­æœ‰å¾ˆå¤šä¸ªäººçš„ç†è§£ï¼Œå› ä¸ºåŸºç¡€è¾ƒå·®ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›é”™è¯¯çš„åœ°æ–¹ï¼Œå¦‚æœæ‚¨æœ‰å»ºè®®æˆ–ç†è§£ï¼Œæ¬¢è¿åœ¨æ–‡ç« ä¸‹æ–¹ç•™è¨€ğŸ˜</strong></p>
<p><strong>æ–‡ç« è¾ƒé•¿ï¼Œä¸‹æ–¹æµ®åŠ¨æ æœ‰æ–‡ç« ç›®å½•æŒ‰é’®å“ŸğŸ˜ƒ</strong></p>
<h2 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h2><p>Open Shortest Path Firstç¿»è¯‘è¿‡æ¥æ˜¯å¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆ</p>
<p>åä¸ºè®¾å¤‡ä¸­OSPFçš„ä¼˜å…ˆçº§æ˜¯ 10 ä»…ä½äºç›´è¿è·¯ç”±</p>
<h2 id="OSPFå•åŒºåŸŸé…ç½®"><a href="#OSPFå•åŒºåŸŸé…ç½®" class="headerlink" title="OSPFå•åŒºåŸŸé…ç½®"></a>OSPFå•åŒºåŸŸé…ç½®</h2><h3 id="å®éªŒè®¾å¤‡"><a href="#å®éªŒè®¾å¤‡" class="headerlink" title="å®éªŒè®¾å¤‡"></a>å®éªŒè®¾å¤‡</h3><p>HUAWEI AR2220   PC</p>
<h3 id="å®éªŒæ‹“æ‰‘-amp-è§„åˆ’"><a href="#å®éªŒæ‹“æ‰‘-amp-è§„åˆ’" class="headerlink" title="å®éªŒæ‹“æ‰‘&amp;è§„åˆ’"></a>å®éªŒæ‹“æ‰‘&amp;è§„åˆ’</h3><p>æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨å®éªŒæŒ‡å¯¼ä¸­æä¾›çš„IPè§„åˆ’</p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-02_16-23-38.jpg" alt=""></p>
<h3 id="å®éªŒç›®çš„"><a href="#å®éªŒç›®çš„" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h3><p>é€šè¿‡é…ç½®å•ä¸ªOSPFåŒºåŸŸçš„é…ç½®ï¼Œä½¿PC1ã€PC2ã€PC2æ‰€åœ¨ç½‘ç»œäº’é€š</p>
<h3 id="å®éªŒè¿‡ç¨‹"><a href="#å®éªŒè¿‡ç¨‹" class="headerlink" title="å®éªŒè¿‡ç¨‹"></a>å®éªŒè¿‡ç¨‹</h3><ol>
<li><p>ä¸ºå„æ¥å£ä»¥åŠPCé…ç½®IPï¼Œå¹¶ç¡®ä¿æ¯ä¸€å¯¹æ¥å£ä¹‹é—´è¿é€šã€‚</p>
</li>
<li><p>ä¸ºè·¯ç”±å™¨é…ç½®OSPF</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[R1]ospf 1     //1ä¸ºè¿›ç¨‹å·</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥éª¨å¹²åŒºåŸŸ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[R1-ospf-1]area 0</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±å¯ä»¥æ¥æŒ‡å®šè¿è¡ŒOSPFåè®®çš„æ¥å£å’Œæ¥å£æ‰€å±çš„åŒºåŸŸ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[R1-ospf-1-area-0.0.0.0]network 172.10.1.0 0.0.0.255</span><br><span class="line">[R1-ospf-1-area-0.0.0.0]network 10.0.0.0 0.0.0.3</span><br><span class="line">[R1-ospf-1-area-0.0.0.0]network 10.0.0.4 0.0.0.3</span><br></pre></td></tr></table></figure>

<p>Qï¼šè¿™é‡Œçš„å‘½ä»¤æˆ‘ä¸å¤ªç†è§£<br><strong>çŒœæµ‹</strong>åé¢çš„åº”è¯¥ä¸º255å‡å»åŸæ¥çš„æ©ç ä½ï¼ˆæ•°é€šåŸºç¡€ä¸å¥½ï¼‰</p>
<ol start="3">
<li>æ£€æŸ¥é€šå‘Šæƒ…å†µï¼Œå‘½ä»¤ï¼š<code>display ospf interface</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  OSPF Process 1 with Router ID 172.10.1.254</span><br><span class="line">	    Interfaces </span><br><span class="line"></span><br><span class="line">Area: 0.0.0.0     (MPLS TE not enabled)</span><br><span class="line">IP Address    Type      tate  Cost Pri      DR           BDR </span><br><span class="line">172.10.1.254  Broadcast  DR    1    1  172.10.1.254    0.0.0.0</span><br><span class="line">10.0.0.2      Broadcast  DR    1    1    10.0.0.2      0.0.0.0</span><br><span class="line">10.0.0.6      Broadcast  DR    1    1    10.0.0.6      0.0.0.0</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°areaåŸŸä¸º0.0.0.0ï¼ŒRoutIDä¸º172.10.1.254 ï¼Œå¦å¤–å¯ä»¥çœ‹å¾…é€šå‘Šå‡ºå»ä¸‰ä¸ªæ¥å£çš„ç±»å‹ä¸ºå¹¿æ’­ï¼Œæ¥å£çŠ¶æ€ä¸ºDRï¼Œå³éƒ½æ˜¯æ‰€åœ¨ç½‘ç»œä¸­çš„æŒ‡å®šè·¯ç”±å™¨ã€‚<br><em>æ‹“å±•ï¼šDR ï¼šä¸€ä¸ªå¹¿æ’­æ€§ã€å¤šæ¥å…¥ç½‘ç»œä¸­çš„æŒ‡å®šè·¯ç”±å™¨ï¼Œä¸ªäººç†è§£ä¸ºä¸€ä¸ªç½‘ç»œä¸­çš„â€œç®¡äº‹çš„â€</em><br>Qï¼šä¸ºä»€ä¹ˆä¼šé€‰è¿™ä¸ªipåšä¸ºRoutIDï¼Ÿ</p>
<ol start="4">
<li><p>é…ç½®R2 R3</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[R2]ospf 1</span><br><span class="line">[R2-ospf-1]area 0</span><br><span class="line">[R2-ospf-1-area-0.0.0.0]network 10.0.0.1 0.0.0.3</span><br><span class="line">[R2-ospf-1-area-0.0.0.0]network 10.0.0.9 0.0.0.3</span><br><span class="line">[R2-ospf-1-area-0.0.0.0]network 172.10.2.254 0.0.0.255</span><br><span class="line"></span><br><span class="line">[R3]ospf 1</span><br><span class="line">[R3-ospf-1]area 0</span><br><span class="line">[R3-ospf-1-area-0.0.0.0]network 10.0.0.5 0.0.0.3</span><br><span class="line">[R3-ospf-1-area-0.0.0.0]network 10.0.0.10 0.0.0.3</span><br><span class="line">[R3-ospf-1-area-0.0.0.0]network 172.10.3.1 0.0.0.255</span><br></pre></td></tr></table></figure>



</li>
</ol>
<p><strong>è¿™é‡Œæˆ‘é…ç½®å®Œä»¥åå‘ç°ï¼Œå‘½ä»¤æ•²é”™äº†ï¼Œnetwork åé¢çš„ç›´æ¥è¾“äº†æ¥å£åœ°å€ï¼Œä½†æ˜¯æˆ‘å»æŸ¥é€šå‘Šæƒ…å†µï¼Œçœ‹èµ·æ¥æ˜¯æ­£å¸¸çš„ï¼Œæˆ‘è§‰å¾—ï¼Œåé¢çš„é‚£ä¸ªå­—æ®µå’Œæ©ç æœ‰å…³ï¼Œæ©ç æ˜¯ç”¨æ¥å®šä¹‰ç½‘ç»œçš„ï¼Œæ‰€ä»¥è¯´æˆ‘è¾“å…¥çš„32ä½çš„åœ°å€è¢«å®šä¹‰ä¸ºäº†å½“å‰ipæ‰€åœ¨çš„ç½‘ç»œï¼Œæš‚ä¸”ä¸å»ç®¡ä»–ã€‚</strong></p>
<ol start="5">
<li>æ£€æŸ¥OSPFé‚»å±…<code>display ospf peer</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">OSPF Process 1 with Router ID 172.10.1.254</span><br><span class="line"> Neighbors</span><br><span class="line"></span><br><span class="line">Area 0.0.0.0 interface 10.0.0.2(GigabitEthernet0/0/0)&apos;s neighbors</span><br><span class="line">Router ID: 172.10.2.254     Address: 10.0.0.1        </span><br><span class="line">  State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">  DR: 10.0.0.2  BDR: 10.0.0.1  MTU: 0    </span><br><span class="line">  Dead timer due in 39  sec </span><br><span class="line">  Retrans timer interval: 5 </span><br><span class="line">  Neighbor is up for 00:35:24     </span><br><span class="line">  Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line">   	 Neighbors </span><br><span class="line"></span><br><span class="line">Area 0.0.0.0 interface 10.0.0.6(GigabitEthernet0/0/2)&apos;s neighbors</span><br><span class="line">Router ID: 10.0.0.10        Address: 10.0.0.5        </span><br><span class="line">  State: Full  Mode:Nbr is  Slave  Priority: 1</span><br><span class="line">  DR: 10.0.0.6  BDR: 10.0.0.5  MTU: 0    </span><br><span class="line">  Dead timer due in 29  sec </span><br><span class="line">  Retrans timer interval: 5 </span><br><span class="line">  Neighbor is up for 00:28:32     </span><br><span class="line">  Authentication Sequence: [ 0 ]</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçœ‹åˆ°äº†ä¸¤ä¸ªOSPFé‚»å±…RoutIDåˆ†åˆ«ä¸ºï¼š172.10.1.254ï¼Œ10.0.0.10ï¼ˆè¿™ä¸ªRoutIDç”¨äº†è·¯ç”±ä¹‹é—´çš„æ¥å£IDï¼‰</p>
<p><em>çŒœæµ‹ï¼šRoutIDçš„åŸåˆ™æ˜¯ä¸é‡å¤ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸æ˜¯éšä¾¿æŒ‡å®šä¸€ä¸ªipåšä¸ºRoutID</em><br><em>å®éªŒï¼šæˆ‘æ–°å¼€äº†ä¸€å°è·¯ç”±å™¨å»å°è¯•ï¼Œå‘ç° RoutIDçš„é€‰æ‹©æ˜¯æ ¹æ®ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£ipè¿›è¡Œé€‰æ‹©çš„ã€‚æˆ‘å›å¤´å»çœ‹R3çš„æ•°æ®ï¼Œæˆ‘ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£Ipçš„ç¡®æ˜¯1.0.0.10/30</em></p>
<ul>
<li>ç°åœ¨å†å»æŸ¥é€šå‘Šæƒ…å†µï¼Œçœ‹ä¸€ä¸‹å‰é¢çœ‹ä¸æ‡‚çš„<code>DR</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> OSPF Process 1 with Router ID 172.10.1.254</span><br><span class="line">   	 Interfaces </span><br><span class="line"></span><br><span class="line">Area: 0.0.0.0    (MPLS TE not enabled)</span><br><span class="line">IP Address    Type       State  Cost  Pri    DR            BDR </span><br><span class="line">172.10.1.254  Broadcast   DR     1     1   172.10.1.254  0.0.0.0</span><br><span class="line">10.0.0.2      Broadcast   DR     1     1   10.0.0.2      10.0.0.1</span><br><span class="line">10.0.0.6      Broadcast   DR     1     1   10.0.0.6      10.0.0.5</span><br></pre></td></tr></table></figure>

<p>DRæ˜¯æŒ‡å®šè·¯ç”±å™¨ï¼ŒBDRæ˜¯å¤‡ä»½æŒ‡å®šè·¯ç”±å™¨ï¼Œæ—¢ç„¶å‰é¢è¯´åˆ°äº†DRæ˜¯<code>ç®¡äº‹çš„</code>é‚£BDRå°±æ˜¯<code>å‰¯ç®¡äº‹çš„</code>ï¼Œå½“<code>ç®¡äº‹çš„</code>ä¸åœ¨æˆ–è€…åšé”™çš„æ—¶å€™ï¼Œ<code>å‰¯ç®¡äº‹çš„</code>å°±å‡ºæ¥æ¥æ‰‹ï¼Œè¿™ä¸¤ä¸ª<code>ç®¡äº‹çš„</code>åˆæ˜¯ç”±å¤§å®¶é€‰å‡ºæ¥çš„ï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°OSPFçš„é€‰ä¸¾æœºåˆ¶äº†ï¼Œç”±äºç†è®ºéƒ¨åˆ†è¿˜æ²¡æœ‰å­¦åˆ°è¿™é‡Œï¼Œæš‚æ—¶æ”¾ä¸€ä¸‹ã€‚</p>
<p>ç°åœ¨ä»è¡¨ä¸­çœ‹å‡ºï¼Œ172.1.1.254æ˜¯è‡ªå·±æ‰€åœ¨ç½‘ç»œçš„DRï¼Œä»–çš„BDRæ˜¯ä¸€ä¸ªç¼ºçœçŠ¶æ€ï¼Œå¦å¤–ä¸¤ä¸ªç½‘ç»œçš„BDRéƒ½æ˜¯è‡ªå·±ç½‘ç»œä¸­å­˜åœ¨äºOSPFåŸŸä¸­çš„åœ°å€</p>
<ol start="6">
<li>å†çœ‹çœ‹OSPFçš„è·¯ç”±è¡¨</li>
</ol>
<pre><code>Public routing table : OSPF
     Destinations : 3        Routes : 4        

OSPF routing table status : &lt;Active&gt;
     Destinations : 3        Routes : 4

Destination/Mask Proto Pre Cost Flags NextHop    Interface

   10.0.0.8/30   OSPF  10   2     D   10.0.0.1 GigabitEthernet 0/0/0
                 OSPF  10   2     D   10.0.0.5 GigabitEthernet 0/0/2
 172.10.2.0/24   OSPF  10   2     D   10.0.0.1 GigabitEthernet 0/0/0
 172.10.3.0/24   OSPF  10   2     D   10.0.0.5 GigabitEthernet 0/0/2

OSPF routing table status : &lt;Inactive&gt;
     Destinations : 0        Routes : 0</code></pre><h3 id="å®éªŒéªŒè¯"><a href="#å®éªŒéªŒè¯" class="headerlink" title="å®éªŒéªŒè¯"></a>å®éªŒéªŒè¯</h3><ul>
<li>ç”±<code>PC1</code>ping <code>PC2</code></li>
</ul>
<pre><code>PC&gt;ping 172.10.2.1

Ping 172.10.2.1: 32 data bytes, Press Ctrl_C to break
Request timeout!
From 172.10.2.1: bytes=32 seq=2 ttl=126 time=16 ms
From 172.10.2.1: bytes=32 seq=3 ttl=126 time=15 ms
From 172.10.2.1: bytes=32 seq=4 ttl=126 time=16 ms
From 172.10.2.1: bytes=32 seq=5 ttl=126 time=16 ms

--- 172.10.2.1 ping statistics ---
  5 packet(s) transmitted
  4 packet(s) received
  20.00% packet loss
  round-trip min/avg/max = 0/15/16 ms</code></pre><p>å•åŒºåŸŸçš„å®éªŒç»“æŸ</p>
<h2 id="OSPFå¤šåŒºåŸŸé…ç½®"><a href="#OSPFå¤šåŒºåŸŸé…ç½®" class="headerlink" title="OSPFå¤šåŒºåŸŸé…ç½®"></a>OSPFå¤šåŒºåŸŸé…ç½®</h2><p>åœ¨ç½‘ç»œè§„æ¨¡å¾ˆå¤§çš„æ—¶å€™ï¼Œå°±è¦åˆ†ä¸ºå¤šä¸ªè‡ªæ²»åŸŸå»ç®¡ç†ï¼Œå¦åˆ™æ¯ä¸ªè·¯ç”±ä¸Šçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“å°†ä¼šéå¸¸çš„å·¨å¤§ï¼Œè¿™å°±è€ƒè™‘åˆ°äº†è·¯ç”±å™¨çš„ç¡¬ä»¶å› ç´ ï¼Œæ‰“ä¸ªç®€å•çš„æ¯”æ–¹ï¼Œå¤§å®¶éƒ½çŸ¥é“Ï€=3.141592653â€¦ä½†æ˜¯è¿™ä¸ªå€¼ä¸éœ€è¦æˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éƒ½æ‹¿å»ç®—ï¼Œå› ä¸ºå·²ç»æœ‰äººç®—å¥½äº†ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼Œå¤šåŒºåŸŸå°±æ˜¯ä¸åŒasåŸŸçš„è®¡ç®—ã€é€‰ä¸¾ï¼Œéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç”±è¾¹ç•Œè·¯ç”±æä¾›åŒºåŸŸé—´çš„è”ç³»ã€‚</p>
<p>å…³äºé“¾è·¯æ•°æ®åº“å¤§å°çš„æ¦‚å¿µï¼Œè¿™é‡Œæ‹¿ä¸€å°æ¥è‡ªä¿„å‹’å†ˆå¤§å­¦å…¨çƒBGPè·¯ç”±è¡¨æµè§ˆé¡¹ç›®çš„è·¯ç”±å™¨æ‰“ä¸ªæ¯”æ–¹ï¼ˆå¥½åƒå…³ç³»ä¸å¤§ğŸ¤”ï¼‰<br>è¿™æ˜¯ä¸€å°æ€ç§‘çš„è®¾å¤‡ï¼Œä½¿ç”¨çš„BGPè·¯ç”±<br><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-02_19-55-51.jpg" alt=""><br>ä»–çš„è·¯ç”±è¡¨æ˜¯ä¸€ä¸ªå¾ˆåºå¤§çš„æ•°é‡<br><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-02_19-57-13.jpg" alt=""><br>ä½¿ç”¨çš„å†…å­˜ä¹Ÿè¾¾åˆ°äº†8.5Gå·¦å³</p>
<p>è€Œæˆ‘ä»¬å®éªŒä¸­ç”¨åˆ°çš„AR2220çš„å†…å­˜ä»…æœ‰1G<br><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-02_19-59-47.jpg" alt=""><br><em>å¥½åƒospfå¤šåŸŸè§£å†³çš„æ˜¯è®¡ç®—ç­‰é—®é¢˜ï¼Œè€Œä¸”ospfå’Œbgpçš„æœºåˆ¶ä¹Ÿæœ‰å¾ˆå¤§ä¸åŒğŸ˜“ï¼Œä¸Šé¢è¿™éƒ¨åˆ†å°±å½“ä¸ªæ‹“å±•ï¼Œå¦å¤–åœ¨ç™¾åº¦çš„æ—¶å€™å‘ç°äº†ä¸€æ®µæœ‰æ„æ€çš„è¯ï¼š</em></p>
<blockquote>
<p><em>OSPFï¼šâ€œèº«å¦‚è·¯ç”±å™¨ï¼Œå¿ƒä¼¼è½¬å‘è¡¨ï¼ŒæŠ¥æ–‡ä½•å…¶å¤šï¼Œæ—¥å¤œå‹¤æŸ¥æ‰¾ã€‚â€</em><br><em>BGPï¼šâ€œè·¯ç”±æœ¬éå™¨ï¼Œè½¬å‘ä½•éœ€è¡¨ï¼ŸæŠ¥æ–‡è™½ç„¶å¤šï¼Œè‡ªæœ‰ä»–äººæ‰¾ã€‚â€</em></p>
</blockquote>
<p><em>å…ˆæ”¶è—èµ·æ¥</em></p>
<p>è¨€å½’æ­£ä¼ </p>
<h3 id="å®éªŒæ‹“æ‰‘-amp-è§„åˆ’-1"><a href="#å®éªŒæ‹“æ‰‘-amp-è§„åˆ’-1" class="headerlink" title="å®éªŒæ‹“æ‰‘&amp;è§„åˆ’"></a>å®éªŒæ‹“æ‰‘&amp;è§„åˆ’</h3><p>åŸºäºä¸Šä¸€éƒ¨åˆ†æ˜¯å®éªŒè¿›è¡Œæ”¹åŠ¨<br><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-02_23-42-00.jpg" alt=""><br>å…¶ä¸­R1 R2 R3 R4 åœ¨åŒºåŸŸ 0 ä¸­ï¼ŒR1 R2 R5åœ¨åŒºåŸŸ 1 ä¸­ï¼ŒR3 R4 R6 åœ¨åŒºåŸŸ 2 ä¸­</p>
<h3 id="å®éªŒç›®çš„-1"><a href="#å®éªŒç›®çš„-1" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h3><p>R1 R2 R3 R4 ä¸ºæ ¸å¿ƒåŒºåŸŸï¼Œåœ¨åŒä¸€ä¸ªasåŸŸä¸­ï¼Œå…¶ä¸­R1 R2 ä¸ R5 åŒåœ¨åŒºåŸŸ 1 ä¸­ï¼ŒR3 R4 ä¸ R5 åŒåœ¨åŒºåŸŸ 2 ä¸­<br><em>ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œåˆ†å¸ƒå¼è®¡ç®—â€ï¼ŒåŒºåŸŸ1è®¡ç®—å‡ºa=1ï¼ŒåŒºåŸŸ2è®¡ç®—å‡ºb=2ï¼ŒåŒºåŸŸ3è®¡ç®—å‡ºc=3,ç”²åœ¨åŒºåŸŸ1å’Œ2ä¸­ï¼Œä¹™åœ¨åŒºåŸŸ2å’Œ3ä¸­ï¼Œç”²å’Œä¹™äº’ç›¸æ²Ÿé€šåï¼Œå¤§å®¶éƒ½çŸ¥é“a,b,cçš„å€¼äº†ã€‚</em></p>
<h3 id="å®éªŒè¿‡ç¨‹-1"><a href="#å®éªŒè¿‡ç¨‹-1" class="headerlink" title="å®éªŒè¿‡ç¨‹"></a>å®éªŒè¿‡ç¨‹</h3><ol>
<li><p>é…ç½®å„æ¥å£IP</p>
</li>
<li><p>é…ç½®éª¨å¹²åŒºåŸŸï¼Œå°†R1 R2 R3 R4 é…å…¥area 0 ä¸­ï¼Œå¹¶äº’ç›¸é€šå‘Š</p>
</li>
</ol>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-03_00-47-57.jpg" alt=""></p>
<ol start="3">
<li>é…ç½®åŒºåŸŸA å³R1 R2 R5 é…å…¥ area 1 ä¸­ï¼Œå…¶ä¸­R1 R2åªé€šå‘Šä¸R5ç›¸è¿çš„æ¥å£</li>
</ol>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-03_01-00-31.jpg" alt=""></p>
<ol start="4">
<li>é…ç½®åŒºåŸŸB å³R3 R4 R6 é…å…¥ area 2 ä¸­ï¼Œå…¶ä¸­R3 R4åªé€šå‘Šä¸R6ç›¸è¿çš„æ¥å£</li>
</ol>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-2/Snipaste_2019-11-03_01-06-42.jpg" alt=""></p>
<p>é‚»åŒºæ²¡æœ‰é—®é¢˜</p>
<ul>
<li>æŸ¥ä¸€ä¸‹OSPFé“¾è·¯çŠ¶æ€æ•°æ®åº“</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[Huawei]display ospf lsdb</span><br><span class="line"></span><br><span class="line">OSPF Process 1 with Router ID 10.0.0.18</span><br><span class="line">  Link State Database </span><br><span class="line">	        Area: 0.0.0.2</span><br><span class="line"> Type   LinkState ID  AdvRouter      Age  Len Sequence Metric</span><br><span class="line">Router  10.0.0.14     10.0.0.14      411  36  80000005   1</span><br><span class="line">Router  172.10.3.254  172.10.3.254   421  36  80000005   1</span><br><span class="line">Router  10.0.0.18     10.0.0.18      409  60  80000008   1</span><br><span class="line">Network 10.0.0.17     10.0.0.14      411  32  80000002   0</span><br><span class="line">Network 10.0.0.22     172.10.3.254   421  32  80000002   0</span><br><span class="line">Sum-Net 172.10.3.0    172.10.3.254   615  28  80000001   1</span><br><span class="line">Sum-Net 172.10.3.0    10.0.0.14      560  28  80000001   2</span><br><span class="line">Sum-Net 172.10.2.0    172.10.3.254   615  28  80000001   2</span><br><span class="line">Sum-Net 172.10.2.0    10.0.0.14      560  28  80000001   3</span><br><span class="line">Sum-Net 172.10.1.0    172.10.3.254   615  28  80000001   3</span><br><span class="line">Sum-Net 172.10.1.0    10.0.0.14      560  28  80000001   3</span><br><span class="line">Sum-Net 10.0.0.12     172.10.3.254   615  28  80000001   2</span><br><span class="line">Sum-Net 10.0.0.12     10.0.0.14      560  28  80000001   1</span><br><span class="line">Sum-Net 10.0.0.8      172.10.3.254   615  28  80000001   1</span><br><span class="line">Sum-Net 10.0.0.8      10.0.0.14      560  28  80000001   2</span><br><span class="line">Sum-Net 10.0.0.4      172.10.3.254   615  28  80000001   1</span><br><span class="line">Sum-Net 10.0.0.4      10.0.0.14      560  28  80000001   1</span><br><span class="line">Sum-Net 10.0.0.0      172.10.3.254   615  28  80000001   2</span><br><span class="line">Sum-Net 10.0.0.0      10.0.0.14      560  28  80000001   2</span><br><span class="line">Sum-Net 10.0.0.28     172.10.3.254   615  28  80000001   2</span><br><span class="line">Sum-Net 10.0.0.28     10.0.0.14      560  28  80000001   3</span><br><span class="line">Sum-Net 10.0.0.24     172.10.3.254   615  28  80000001   3</span><br><span class="line">Sum-Net 10.0.0.24     10.0.0.14      560  28  80000001   2</span><br></pre></td></tr></table></figure>

<p>é™¤äº†æˆ‘ä»¬é€šå‘Šçš„è·¯ç”±ä¹‹å¤–ï¼Œå…¶ä»–çš„è·¯ç”±éƒ½æ˜¯Sum-Netç±»å‹çš„<br><em>æˆ‘å»æœSum-Netæ˜¯ä»€ä¹ˆï¼Œå¹¶æ²¡æœ‰æœåˆ°ï¼Œä½†æ˜¯å‘ç°å¯ç¤ºå½•ä¸­æœ‰ä¸€æ¡Sum-Net LSAä¼šå¼•èµ·è·¯ç”±è®¡ç®—ï¼Œå¼•å‘OSPFè·¯ç”±éœ‡è¡</em></p>
<h3 id="å®éªŒéªŒè¯-1"><a href="#å®éªŒéªŒè¯-1" class="headerlink" title="å®éªŒéªŒè¯"></a>å®éªŒéªŒè¯</h3><p><code>PC1</code> ping <code>PC4</code></p>
<pre><code>PC&gt;ping 172.10.4.1

Ping 172.10.4.1: 32 data bytes, Press Ctrl_C to break
From 172.10.1.1: Destination host unreachable</code></pre><p>å¤±è´¥</p>
<ul>
<li><p>æ’éšœ</p>
<p>å…ˆç”¨PC1ä¸PC4 pingå„è‡ªçš„ç½‘å…³  â€“æˆåŠŸ<br>æŸ¥çœ‹R5 R6è·¯ç”±è¡¨                          â€“æœ‰å¯¹åº”æ¡ç›®<br>æ£€æŸ¥ç”µè„‘é…ç½®                                â€“æœªé…ç½®ç½‘å…³</p>
</li>
</ul>
<pre><code>PC&gt;ping 172.10.4.1

Ping 172.10.4.1: 32 data bytes, Press Ctrl_C to break
Request timeout!
From 172.10.4.1: bytes=32 seq=2 ttl=124 time=31 ms
From 172.10.4.1: bytes=32 seq=3 ttl=124 time=31 ms
From 172.10.4.1: bytes=32 seq=4 ttl=124 time=31 ms
From 172.10.4.1: bytes=32 seq=5 ttl=124 time=32 ms

--- 172.10.4.1 ping statistics ---
  5 packet(s) transmitted
  4 packet(s) received
  20.00% packet loss
  round-trip min/avg/max = 0/31/32 ms</code></pre><p>å®éªŒå®Œæˆ</p>
<h2 id="OSPFçš„è®¤è¯"><a href="#OSPFçš„è®¤è¯" class="headerlink" title="OSPFçš„è®¤è¯"></a>OSPFçš„è®¤è¯</h2><p>â€œå¯¹æš—å·â€ æˆ‘ç†è§£ä¸ºé˜²æ­¢éæ³•è·¯ç”±åŠ å…¥ç½‘ç»œä¸­</p>
<h3 id="å®éªŒæ‹“æ‰‘-è§„åˆ’"><a href="#å®éªŒæ‹“æ‰‘-è§„åˆ’" class="headerlink" title="å®éªŒæ‹“æ‰‘/è§„åˆ’"></a>å®éªŒæ‹“æ‰‘/è§„åˆ’</h3><p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_10-30-02.jpg" alt=""></p>
<p>R1çš„loopbackçš„åœ°å€æ˜¯1.1.1.1 ï¼ŒR2çš„æ˜¯2.2.2.2ï¼Œä»¥æ­¤ç±»æ¨</p>
<h3 id="å®éªŒç›®çš„-2"><a href="#å®éªŒç›®çš„-2" class="headerlink" title="å®éªŒç›®çš„"></a>å®éªŒç›®çš„</h3><p>åœ¨åŒºåŸŸ0å’Œ1é…ä¸ŠåŒºåŸŸè®¤è¯ï¼Œ0å¼€å¯å¯†æ–‡è®¤è¯ï¼Œ1å¼€å¯æ˜æ–‡è®¤è¯</p>
<h3 id="å®éªŒè¿‡ç¨‹-2"><a href="#å®éªŒè¿‡ç¨‹-2" class="headerlink" title="å®éªŒè¿‡ç¨‹"></a>å®éªŒè¿‡ç¨‹</h3><h4 id="OSPFåŒºåŸŸè®¤è¯"><a href="#OSPFåŒºåŸŸè®¤è¯" class="headerlink" title="OSPFåŒºåŸŸè®¤è¯"></a>OSPFåŒºåŸŸè®¤è¯</h4><ol>
<li><p>é…ç½®å„æ¥å£IPï¼Œå¹¶é…ç½®loopbackåœ°å€</p>
</li>
<li><p>å°†R2 R3 R5 R6 é…å…¥area 0 ä¸­ï¼Œå¹¶é€šå‘Šç½‘ç»œï¼Œå°†R1 R2 R4 é…å…¥area 1 ä¸­ï¼ŒåŒæ ·é€šå‘Šç½‘ç»œ</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å°è®¾å¤‡éƒ½éœ€è¦æŠŠloopbackåœ°å€é€šå‘Šå‡ºå»</p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_11-33-35.jpg" alt=""></p>
</li>
<li><p>é…ç½®åŒºåŸŸ</p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_14-15-00.jpg" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°R2æœ‰äº†æ­£ç¡®çš„é‚»å±…å…³ç³»</p>
</li>
<li><p>ç»™åŒºåŸŸ1é…ç½®åŒºåŸŸè®¤è¯</p>
<p>R1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[Huawei]ospf 1</span><br><span class="line">[Huawei-ospf-1]ar	</span><br><span class="line">[Huawei-ospf-1]area 1</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]au	</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]authentication-mode s	</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]authentication-mode simple p	</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]authentication-mode simple plain huawei1</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]disp	</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]display th</span><br><span class="line">[V200R003C00]</span><br><span class="line">#</span><br><span class="line"> area 0.0.0.1 </span><br><span class="line">  authentication-mode simple plain huawei1 </span><br><span class="line">  network 1.1.1.1 0.0.0.0 </span><br><span class="line">  network 10.0.0.0 0.0.0.3 </span><br><span class="line">#</span><br><span class="line">return</span><br></pre></td></tr></table></figure>

<p><em>è¿™æ—¶å€™å¯ä»¥çœ‹åˆ°å£ä»¤ä¸º<code>huawei1</code></em></p>
</li>
</ol>
<p>é‡æ–°é…ç½®ä¸€é</p>
<p><em>å‘ç°ä¸ªæœ‰è¶£çš„ä¸œè¥¿ï¼ŒæŒ‰ä¸Šé”®çš„æ—¶å€™ï¼ŒåŸæ¥è¾“å…¥çš„å£ä»¤ä¼šå˜æˆ<code>******</code></em></p>
<p>ç°åœ¨å£ä»¤å˜ä¸ºäº†å¯†æ–‡æ˜¾ç¤º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Huawei-ospf-1-area-0.0.0.1]authentication-mode simple huawei1</span><br><span class="line">[Huawei-ospf-1-area-0.0.0.1]display th</span><br><span class="line">[V200R003C00]</span><br><span class="line">#</span><br><span class="line"> area 0.0.0.1 </span><br><span class="line">  authentication-mode simple cipher %$%$6iLJ4J=YgV@LW7RZhQgXRp_4%$%$ </span><br><span class="line">  network 1.1.1.1 0.0.0.0 </span><br><span class="line">  network 10.0.0.0 0.0.0.3 </span><br><span class="line">#</span><br><span class="line">return</span><br></pre></td></tr></table></figure>



<p>R2ä¹Ÿæ²¡æœ‰äº†R1çš„é‚»å±…å…³ç³»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;R2&gt;display ospf 1 peer brief </span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 10.0.0.2</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/1             10.0.0.6         Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/2             4.4.4.4          Full        </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>



<ol start="5">
<li>æ¥ä¸‹æ¥é…R2 R4çš„è®¤è¯</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[R2]ospf 1</span><br><span class="line">[R2-ospf-1]area 1	</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]au	</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]authentication-mode s	</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]authentication-mode simple p	</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]authentication-mode simple plain huawei1</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]authentication-mode simple huawei1</span><br><span class="line">[R2-ospf-1-area-0.0.0.1]display ospf 1 peer brief </span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 10.0.0.2</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/1             10.0.0.6         Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/0             10.0.0.1         Full        </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ç°åœ¨R2ä¸R1çš„é‚»å±…å…³ç³»æ¢å¤äº†ï¼Œæ²¡æœ‰äº†R4çš„é‚»å±…ï¼Œæ¥ç€å»é…R4</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[R4-ospf-1-area-0.0.0.1]display th</span><br><span class="line">[V200R003C00]</span><br><span class="line">#</span><br><span class="line"> area 0.0.0.1 </span><br><span class="line">  authentication-mode simple cipher %$%$tuiTSpt&apos;-/`8ey(B&#125;PlFR&amp;~y%$%$ </span><br><span class="line">  network 4.4.4.4 0.0.0.0 </span><br><span class="line">  network 10.0.0.16 0.0.0.3 </span><br><span class="line">#</span><br><span class="line">return</span><br></pre></td></tr></table></figure>

<p>R2çš„é‚»å±…å…³ç³»ä¹Ÿæ­£å¸¸äº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;R2&gt;display ospf 1 peer brief </span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 10.0.0.2</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line"> ----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/1             10.0.0.6         Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/2             4.4.4.4          Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/0             10.0.0.1         Full        </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<h4 id="OSPFé“¾è·¯éªŒè¯"><a href="#OSPFé“¾è·¯éªŒè¯" class="headerlink" title="OSPFé“¾è·¯éªŒè¯"></a>OSPFé“¾è·¯éªŒè¯</h4><ol>
<li><p>åœ¨R2ä¸R4ä¹‹é—´éƒ¨ç½²MD5çš„é“¾è·¯è®¤è¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[R2-GigabitEthernet0/0/2]ospf authentication-mode md5 1 huawei5</span><br></pre></td></tr></table></figure>

<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_15-05-49.jpg" alt=""></p>
<p>å»çœ‹é‚»å±…ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;R2&gt;display ospf 1 peer brief </span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 10.0.0.2</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/1             10.0.0.6         Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/0             10.0.0.1         Full        </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ä¸R4çš„é‚»å±…æ²¡æœ‰äº†ï¼Œå› ä¸ºR2ä¸R4è¿æ¥çš„æ¥å£è¢«é…ä¸Šäº†é“¾è·¯è®¤è¯</p>
</li>
</ol>
<ol start="2">
<li><p>ç»™R4ä¹Ÿé…ä¸Šé“¾è·¯è®¤è¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	 OSPF Process 1 with Router ID 10.0.0.2</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/1             10.0.0.6         Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/2             4.4.4.4          Full        </span><br><span class="line"> 0.0.0.1          GigabitEthernet0/0/0             10.0.0.1         Full        </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>R2çš„ä¸R4çš„é‚»å±…é‡æ–°å»ºç«‹</p>
</li>
</ol>
<h4 id="OSPFè¢«åŠ¨æ¥å£é…ç½®"><a href="#OSPFè¢«åŠ¨æ¥å£é…ç½®" class="headerlink" title="OSPFè¢«åŠ¨æ¥å£é…ç½®"></a>OSPFè¢«åŠ¨æ¥å£é…ç½®</h4><p>è®©ä¸€ä¸ªæ¥å£ä»â€œå‚ä¸è€…â€å˜ä¸ºâ€œä½¿ç”¨è€…â€</p>
<h5 id="æ‹“æ‰‘-amp-è§„åˆ’"><a href="#æ‹“æ‰‘-amp-è§„åˆ’" class="headerlink" title="æ‹“æ‰‘&amp;è§„åˆ’"></a>æ‹“æ‰‘&amp;è§„åˆ’</h5><p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_15-46-07.jpg" alt=""></p>
<h5 id="å®éªŒè¿‡ç¨‹-3"><a href="#å®éªŒè¿‡ç¨‹-3" class="headerlink" title="å®éªŒè¿‡ç¨‹"></a>å®éªŒè¿‡ç¨‹</h5><ol>
<li><p>é…ç½®æ¥å£ipï¼Œå¹¶ä¸”éƒ½æ”¾å…¥area 0 ä¸­</p>
</li>
<li><p>å¯¹PCä¸Šçš„æ¥å£è¿›è¡ŒæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šOSPFçš„hello packetæŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«äº†æœ¬areaä¸­çš„ä¿¡æ¯</p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_16-11-32.jpg" alt=""></p>
<p>æ‰€ä»¥éœ€è¦é…ç½®è¢«åŠ¨æ¥å£ï¼Œç¦æ­¢è¿æ¥ç»ˆç«¯çš„æ¥å£æ¥æ”¶å‘é€OSPFæŠ¥æ–‡</p>
</li>
<li><p>å°†ä¸ç»ˆç«¯ç›¸è¿çš„æ¥å£é…ç½®ä¸ºè¢«åŠ¨æ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[R4]ospf 1</span><br><span class="line">[R4-ospf-1]sil	</span><br><span class="line">[R4-ospf-1]silent-interface g 0/0/2	</span><br><span class="line">[R4-ospf-1]display th</span><br><span class="line">[V200R003C00]</span><br><span class="line">#</span><br><span class="line">ospf 1 </span><br><span class="line"> silent-interface GigabitEthernet0/0/2</span><br><span class="line"> area 0.0.0.0 </span><br><span class="line">  network 10.0.0.16 0.0.0.7 </span><br><span class="line">  network 10.1.1.0 0.0.0.255 </span><br><span class="line">#</span><br><span class="line">return</span><br></pre></td></tr></table></figure>
</li>
<li><p>é‡æ–°å»æŠ“åŒ…ï¼Œå°±ä¸ä¼šå†å‘ç°æœ‰æ¥è‡ªOSPFçš„æŠ¥æ–‡äº†</p>
</li>
</ol>
<h5 id="å®éªŒç»“è®º"><a href="#å®éªŒç»“è®º" class="headerlink" title="å®éªŒç»“è®º"></a>å®éªŒç»“è®º</h5><p>æ—¢ç„¶è¢«åŠ¨æ¥å£ä¼šä½¿å½“å‰æ¥å£ä¸å†å‘é€å’Œæ¥æ”¶OSPFçš„æŠ¥æ–‡ï¼Œæ‰€ä»¥ä¸å¯ä»¥é…ç½®åœ¨è·¯ç”±ä¹‹é—´çš„æ¥å£ä¸Šï¼Œå¦åˆ™ä¼šä½¿å½“å‰æ¥å£é€€å‡ºOSPF</p>
<h4 id="OSPFçš„Router-ID"><a href="#OSPFçš„Router-ID" class="headerlink" title="OSPFçš„Router-ID"></a>OSPFçš„Router-ID</h4><p>å…¶å®å…³äºRouter-IDï¼Œæˆ‘ä¹‹å‰å°±åšäº†ç®€å•çš„éªŒè¯ï¼Œå½“æ—¶å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š</p>
<blockquote>
<p><em>çŒœæµ‹ï¼šRoutIDçš„åŸåˆ™æ˜¯ä¸é‡å¤ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸æ˜¯éšä¾¿æŒ‡å®šä¸€ä¸ªipåšä¸ºRoutID</em><br>å®éªŒï¼šæˆ‘æ–°å¼€äº†ä¸€å°è·¯ç”±å™¨å»å°è¯•ï¼Œå‘ç° RoutIDçš„é€‰æ‹©æ˜¯æ ¹æ®ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£ipè¿›è¡Œé€‰æ‹©çš„ã€‚æˆ‘å›å¤´å»çœ‹R3çš„æ•°æ®ï¼Œæˆ‘ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£Ipçš„ç¡®æ˜¯1.0.0.10/30</p>
</blockquote>
<p>å®Œå–„ä¸‹Router IDçš„é€‰ä¸¾è§„åˆ™</p>
<p>åœ¨æ²¡æœ‰æ‰‹åŠ¨é…ç½®Router-IDçš„æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IPï¼Œä¼šè¢«æŒ‡å®šä¸ºRouter-IDï¼Œå¦‚æœè¿™ä¸ªIPè¢«åˆ é™¤ï¼Œå¦‚æœå½“å‰æœ‰loopbackåœ°å€ï¼Œåˆ™Router-IDä¼šè¢«æŒ‡å®šä¸ºloopbackåœ°å€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šè¢«æŒ‡å®šä¸ºç¬¬äºŒä¸ªé…ç½®çš„Router-IDï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[Huawei]int	</span><br><span class="line">[Huawei]interface g 0/0/0</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]ip add 1.1.1.1 24</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]interface g 0/0/1</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]ip add 2.2.2.2 24</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]disp	</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]display r	</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]display ro	</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]display route id</span><br><span class="line">RouterID:1.1.1.1                               //æ­¤æ—¶çš„RouterIDä¸ºç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IP</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]interface g 0/0/0</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]undo ip add</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]display route id</span><br><span class="line">RouterID:2.2.2.2                               //åˆ é™¤ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IPåï¼Œè¢«æŒ‡å®šä¸ºç¬¬äºŒä¸ªæ¥å£IP</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]ip add 1.1.1.1 24</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]interface l 0</span><br><span class="line">[Huawei-LoopBack0]ip add 6.6.6.6 32</span><br><span class="line">[Huawei-LoopBack0]interface g 0/0/1</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]undo ip ad</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]display route id</span><br><span class="line">RouterID:6.6.6.6                              //è¿™æ—¶å°±ä¼šè¢«æŒ‡å®šä¸ºloopbackåœ°å€</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å¦‚æœRouterIDé‡å¤ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p><strong>ç®€å•æ‹“æ‰‘</strong></p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_17-19-32.jpg" alt=""></p>
</li>
</ul>
<p>é…ç½®ç›¸åŒçš„RouterID</p>
<p><em>ä¿®æ”¹å®ŒRouterIDåï¼Œä¼šæœ‰è¿™æ ·çš„æé†’ï¼šè·¯ç”±å™¨IDå·²ä¿®æ”¹ï¼Œè¯·æ‰‹åŠ¨é‡ç½®ç›¸å…³åè®®æ›´æ–°è·¯ç”±å™¨ID</em></p>
<p>ç°åœ¨å»æŸ¥çœ‹é‚»å±…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> OSPF Process 1 with Router ID 1.1.1.1</span><br><span class="line">	 Neighbors </span><br><span class="line"></span><br><span class="line">Area 0.0.0.0 interface 1.1.1.1(GigabitEthernet0/0/0)&apos;s neighbors</span><br><span class="line">Router ID: 1.1.1.2          Address: 1.1.1.2         </span><br><span class="line">  State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">  DR: 1.1.1.1  BDR: 1.1.1.2  MTU: 0    </span><br><span class="line">  Dead timer due in 40  sec </span><br><span class="line">  Retrans timer interval: 5 </span><br><span class="line">  Neighbor is up for 00:08:51     </span><br><span class="line">  Authentication Sequence: [ 0 ]</span><br></pre></td></tr></table></figure>

<p>Router IDè¿˜æ˜¯åŸæ¥çš„ï¼Œç»“åˆä¹‹å‰çš„æé†’ï¼Œéœ€è¦é‡ç½®ä¸€ä¸‹åè®®ï¼š<code>reset ospf process</code>ï¼ˆè¿™ä¸ªå‘½ä»¤åªå¯ä»¥åœ¨ç”¨æˆ·ç•Œé¢ä½¿ç”¨ï¼‰</p>
<p>å†å»çœ‹é‚»å±…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Huawei&gt;display ospf peer  </span><br><span class="line"></span><br><span class="line">OSPF Process 1 with Router ID 6.6.6.6</span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰é‚»å±…äº†ï¼Œé‚£ä¹ˆè·¯ç”±è‡ªç„¶ä¹Ÿä¸ä¼šé€šå‘Š</p>
<p>å†çœ‹ä¸€ä¸‹ä¸åŒåŒºåŸŸçš„ç›¸åŒRouterID</p>
<p><img src="https://oss.sadly.pw/images/R-S/2019-11-3/Snipaste_2019-11-03_17-42-31.jpg" alt=""></p>
<p>ä¸¤ä¾§çš„è·¯ç”±æ‹¥æœ‰ç›¸åŒçš„RouterID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[Huawei]display ospf lsdb</span><br><span class="line"> OSPF Process 1 with Router ID 6.6.6.6</span><br><span class="line">	 Link State Database </span><br><span class="line">	         Area: 0.0.0.0</span><br><span class="line"> Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric</span><br><span class="line"> Router    6.6.6.7         6.6.6.7            425  36    80000004       1</span><br><span class="line"> Router    6.6.6.6         6.6.6.6            592  36    80000007       1</span><br><span class="line"> Router    1.1.1.2         1.1.1.2            788  36    80000008       1</span><br><span class="line"> Router    1.1.1.1         1.1.1.1           1512  36    80000005       1</span><br><span class="line"> Network   1.1.1.1         6.6.6.6            592  32    80000002       0</span><br><span class="line"> Sum-Net   1.1.2.0         6.6.6.7            371  28    80000001       1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Huawei]ping 1.1.2.2</span><br><span class="line">  PING 1.1.2.2: 56  data bytes, press CTRL_C to break</span><br><span class="line">    Reply from 1.1.2.2: bytes=56 Sequence=1 ttl=254 time=30 ms</span><br><span class="line">    Reply from 1.1.2.2: bytes=56 Sequence=2 ttl=254 time=20 ms</span><br><span class="line">    Reply from 1.1.2.2: bytes=56 Sequence=3 ttl=254 time=30 ms</span><br><span class="line">    Reply from 1.1.2.2: bytes=56 Sequence=4 ttl=254 time=30 ms</span><br><span class="line">    Reply from 1.1.2.2: bytes=56 Sequence=5 ttl=254 time=30 ms</span><br><span class="line"></span><br><span class="line">  --- 1.1.2.2 ping statistics ---</span><br><span class="line">    5 packet(s) transmitted</span><br><span class="line">    5 packet(s) received</span><br><span class="line">    0.00% packet loss</span><br><span class="line">    round-trip min/avg/max = 20/28/30 ms</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰å¯¹ç½‘ç»œé€ æˆå½±å“ã€‚</p>
<p><strong>æ‰€ä»¥ï¼ŒRouterIDåœ¨åŒåŒºåŸŸå†…é‡å æ˜¯ä¼šå½±å“ospfçŠ¶æ€çš„ï¼Œä¸åŒåŒºåŸŸåˆ™ä¸ä¼š</strong></p>
<h2 id="DRä¸BDR"><a href="#DRä¸BDR" class="headerlink" title="DRä¸BDR"></a>DRä¸BDR</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;R1&gt;display ospf peer b</span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 1.1.1.1</span><br><span class="line">		  Peer Statistic Information</span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line"> Area Id          Interface                        Neighbor id      State    </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/0             2.2.2.2          2-Way       </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/0             3.3.3.3          Full        </span><br><span class="line"> 0.0.0.0          GigabitEthernet0/0/0             4.4.4.4          Full       </span><br><span class="line"> ----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;R1&gt;display ospf peer</span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 1.1.1.1</span><br><span class="line">		 Neighbors </span><br><span class="line"></span><br><span class="line"> Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors</span><br><span class="line"> Router ID: 2.2.2.2          Address: 192.168.1.2     </span><br><span class="line">   State: 2-Way  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.4  MTU: 0    </span><br><span class="line">   Dead timer due in 37  sec </span><br><span class="line">   Retrans timer interval: 0 </span><br><span class="line">   Neighbor is up for 00:00:00     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 3.3.3.3          Address: 192.168.1.3     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.4  MTU: 0    </span><br><span class="line">   Dead timer due in 30  sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:02:26     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 4.4.4.4          Address: 192.168.1.4     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.4  MTU: 0    </span><br><span class="line">   Dead timer due in 32  sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:02:25     </span><br><span class="line">   Authentication Sequence: [ 0 ]</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶R3ä¸ºDRï¼ŒR4ä¸ºBDR</p>
<p>æ¥ç€ä¿®æ”¹OSPFçš„ç½‘ç»œç±»å‹ä¸ºç‚¹åˆ°å¤šç‚¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ospf network-type p2mp</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å¯ä»¥çœ‹åˆ°ï¼ŒDRå’ŒBDRéƒ½æ˜¯none</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;R1&gt;display ospf peer</span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 1.1.1.1</span><br><span class="line">		 Neighbors </span><br><span class="line"></span><br><span class="line"> Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors</span><br><span class="line"> Router ID: 2.2.2.2          Address: 192.168.1.2     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: None   BDR: None   MTU: 0    </span><br><span class="line">   Dead timer due in 100 sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:00:43     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 3.3.3.3          Address: 192.168.1.3     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: None   BDR: None   MTU: 0    </span><br><span class="line">   Dead timer due in 120 sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:00:15     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 4.4.4.4          Address: 192.168.1.4     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: None   BDR: None   MTU: 0    </span><br><span class="line">   Dead timer due in 103 sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:00:15     </span><br><span class="line">   Authentication Sequence: [ 0 ]</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥è¯´OSPFåœ¨ç‚¹åˆ°å¤šç‚¹çš„ç½‘ç»œä¸‹ä¸é€‰ä¸¾DRã€BDR</p>
<p>æ¥ä¸‹æ¥å°†ç½‘ç»œç±»å‹è¿˜åŸ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ospf network-type broadcast</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹DRä¼˜å…ˆçº§ï¼ŒR1ï¼š100  R2ï¼š50  R4ï¼š0   R3ï¼šé»˜è®¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[R1-GigabitEthernet0/0/0]display ospf peer</span><br><span class="line"></span><br><span class="line">	 OSPF Process 1 with Router ID 1.1.1.1</span><br><span class="line">		 Neighbors </span><br><span class="line"></span><br><span class="line"> Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors</span><br><span class="line"> Router ID: 2.2.2.2          Address: 192.168.1.2     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 50</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.1  MTU: 0    </span><br><span class="line">   Dead timer due in 40  sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:00:11     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 3.3.3.3          Address: 192.168.1.3     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 1</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.1  MTU: 0    </span><br><span class="line">   Dead timer due in 35  sec </span><br><span class="line">   Retrans timer interval: 5 </span><br><span class="line">   Neighbor is up for 00:01:49     </span><br><span class="line">   Authentication Sequence: [ 0 ] </span><br><span class="line"></span><br><span class="line"> Router ID: 4.4.4.4          Address: 192.168.1.4     </span><br><span class="line">   State: Full  Mode:Nbr is  Master  Priority: 0</span><br><span class="line">   DR: 192.168.1.3  BDR: 192.168.1.1  MTU: 0    </span><br><span class="line">   Dead timer due in 36  sec </span><br><span class="line">   Retrans timer interval: 4 </span><br><span class="line">   Neighbor is up for 00:00:10     </span><br><span class="line">   Authentication Sequence: [ 0 ]</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶R3æ˜¯DRï¼ŒR1æ˜¯BDR</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://eeeje.com/2019/11/03/OSPF/" title="åä¸ºè®¾å¤‡OSPFè·¯ç”±çš„é…ç½®" target="_blank" rel="external">https://eeeje.com/2019/11/03/OSPF/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong> æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CNåè®®</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://eeeje.com" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://eeeje.com" target="_blank"><span class="text-dark">è¾£é¸¡ç†Š</span><small class="ml-1x"></small></a></h3>
        <div>åšå®¢åŸºäºhexoæ­å»ºï¼Œæ‰˜ç®¡äºGithubï¼Œéƒ¨åˆ†å›¾ç‰‡å¯„å­˜äºé˜¿é‡Œoss</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2019/11/03/1103/" title="1103 OSPFç¬”è®°"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;ä¸Šä¸€ç¯‡</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2019/11/01/Static/" title="åä¸ºè®¾å¤‡é™æ€è·¯ç”±çš„é…ç½®"><span>ä¸‹ä¸€ç¯‡&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="æ–‡ç« ç›®å½•" role="button">
        <span>[&nbsp;</span><span>æ–‡ç« ç›®å½•</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>èµ</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
              </div>
              <p class="text-muted mv">æ‰«ç æ‰“èµï¼Œä½ è¯´å¤šå°‘å°±å¤šå°‘</p>
              <p class="text-grey">æ‰“å¼€æ”¯ä»˜å®æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="æ‰«ç æ”¯æŒ" title="æ‰«ä¸€æ‰«" />
              </div>
              <p class="text-muted mv">æ‰«ç æ‰“èµï¼Œä½ è¯´å¤šå°‘å°±å¤šå°‘</p>
              <p class="text-grey">æ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> æ”¯ä»˜å®</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> å¾®ä¿¡æ”¯ä»˜</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/lajix" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="http://weibo.com/lajix" target="_blank" title="Weibo" data-toggle=tooltip data-placement=top><i class="icon icon-weibo"></i></a></li>
        
        <li><a href="https://twitter.com/bearshili" target="_blank" title="Twitter" data-toggle=tooltip data-placement=top><i class="icon icon-twitter"></i></a></li>
        
        <li><a href="https://oss.sadly.pw/images/wechat.jpg" target="_blank" title="Wechat" data-toggle=tooltip data-placement=top><i class="icon icon-wechat"></i></a></li>
        
        <li><a href="/mailto:admin@eeeji.com" target="_blank" title="Email" data-toggle=tooltip data-placement=top><i class="icon icon-email"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2019 è¾£é¸¡ç†Š
        
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'LjlF9WJs8aeGL4yTRFi5ttA3-gzGzoHsz',
    appKey: 'kvtr07LLIscULJ5CEYKut64m',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>