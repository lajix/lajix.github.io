{"meta":{"title":"è¾£é¸¡ç†Šä¸ªäººåšå®¢","subtitle":null,"description":null,"author":"è¾£é¸¡ç†Š","url":"https://eeeje.com","root":"/"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2019-11-18T11:16:11.335Z","updated":"2019-11-18T11:16:11.335Z","comments":false,"path":"/404.html","permalink":"https://eeeje.com/404.html","excerpt":"","text":""},{"title":"å…³äº","date":"2019-11-18T11:16:11.358Z","updated":"2019-11-18T11:16:11.358Z","comments":false,"path":"about/index.html","permalink":"https://eeeje.com/about/index.html","excerpt":"","text":"ä¸“æ³¨äºè‡ªå·±é’»ç ”çš„ITåˆå­¦è€…ï¼Œä¸»è¦ä»ä¸šä¸æ•°é€šè¡Œä¸šï¼Œçˆ±å¥½å¹¿æ³›ï¼Œä¸»è¦åœ¨webå‰ç«¯æ–¹å‘ï¼Œæ²¡æœ‰ç³»ç»Ÿå­¦ä¹ è¿‡å¼€å‘çŸ¥è¯†ï¼Œæ€»ä¹‹å¾ˆèœã€‚"},{"title":"ä¹¦å•","date":"2019-11-18T11:16:11.531Z","updated":"2019-11-18T11:16:11.531Z","comments":false,"path":"books/index.html","permalink":"https://eeeje.com/books/index.html","excerpt":"","text":"douban: user: è¶ä¸ä½  # è±†ç“£ç”¨æˆ·å start: 0 # ä»å“ªä¸€æ¡è®°å½•å¼€å§‹ count: 100 # è·å–è±†ç“£ä¹¦å•æ•°æ®æ¡æ•°"},{"title":"åˆ†ç±»","date":"2019-11-18T11:16:11.651Z","updated":"2019-11-18T11:16:11.651Z","comments":false,"path":"categories/index.html","permalink":"https://eeeje.com/categories/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2019-11-18T11:16:11.783Z","updated":"2019-11-18T11:16:11.783Z","comments":true,"path":"links/index.html","permalink":"https://eeeje.com/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2019-11-18T11:16:11.891Z","updated":"2019-11-18T11:16:11.891Z","comments":false,"path":"repository/index.html","permalink":"https://eeeje.com/repository/index.html","excerpt":"","text":"Githubgithub: username: lajix"},{"title":"æ ‡ç­¾","date":"2019-11-18T11:16:12.140Z","updated":"2019-11-18T11:16:12.140Z","comments":false,"path":"tags/index.html","permalink":"https://eeeje.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ICMP","slug":"ICMP","date":"2019-11-19T07:55:10.333Z","updated":"2019-11-19T07:55:10.333Z","comments":true,"path":"2019/11/19/ICMP/","link":"","permalink":"https://eeeje.com/2019/11/19/ICMP/","excerpt":"","text":"ICMPè‹±ç‰¹ç½‘æ§åˆ¶æ¶ˆæ¯åè®® åœ¨ç½‘ç»œè®¾å¤‡é—´ä¼ é€’å„ç§å·®é”™å’Œæ§åˆ¶ä¿¡æ¯ ç”²ï¼šä½ å¬åˆ°äº†å—ï¼Ÿï¼ˆICMP Echo Requestï¼‰ ä¹™ï¼šå¬åˆ°äº†ï¼ï¼ˆICMP Echo Replyï¼‰ ICMPä¸­æœ€é‡è¦çš„æ˜¯ç±»å‹ï¼ˆtypeï¼‰ä¸ä»£ç ï¼ˆcodeï¼‰ ç±»å‹ ç¼–ç  æè¿° 0 0 Echo Reply 3 0 ç½‘ç»œä¸å¯è¾¾ 3 1 ä¸»æœºä¸å¯è¾¾ 3 2 åè®®ä¸å¯è¾¾ 3 3 ç«¯å£ä¸å¯è¾¾ 5 0 é‡å®šå‘ 8 0 Echo Request pingçš„ç”¨æ³•12345678910111213141516171819202122232425262728293031ç”¨æ³•: ping [-t] [-a] [-n count] [-l size] [-f] [-i TTL] [-v TOS] [-r count] [-s count] [[-j host-list] | [-k host-list]] [-w timeout] [-R] [-S srcaddr] [-c compartment] [-p] [-4] [-6] target_nameé€‰é¡¹: -t Ping æŒ‡å®šçš„ä¸»æœºï¼Œç›´åˆ°åœæ­¢ã€‚ è‹¥è¦æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯å¹¶ç»§ç»­æ“ä½œï¼Œè¯·é”®å…¥ Ctrl+Breakï¼› è‹¥è¦åœæ­¢ï¼Œè¯·é”®å…¥ Ctrl+Cã€‚ -a å°†åœ°å€è§£æä¸ºä¸»æœºåã€‚ -n count è¦å‘é€çš„å›æ˜¾è¯·æ±‚æ•°ã€‚ -l size å‘é€ç¼“å†²åŒºå¤§å°ã€‚ -f åœ¨æ•°æ®åŒ…ä¸­è®¾ç½®â€œä¸åˆ†æ®µâ€æ ‡è®°(ä»…é€‚ç”¨äº IPv4)ã€‚ -i TTL ç”Ÿå­˜æ—¶é—´ã€‚ -v TOS æœåŠ¡ç±»å‹(ä»…é€‚ç”¨äº IPv4ã€‚è¯¥è®¾ç½®å·²è¢«å¼ƒç”¨ï¼Œ å¯¹ IP æ ‡å¤´ä¸­çš„æœåŠ¡ç±»å‹å­—æ®µæ²¡æœ‰ä»»ä½• å½±å“)ã€‚ -r count è®°å½•è®¡æ•°è·ƒç‚¹çš„è·¯ç”±(ä»…é€‚ç”¨äº IPv4)ã€‚ -s count è®¡æ•°è·ƒç‚¹çš„æ—¶é—´æˆ³(ä»…é€‚ç”¨äº IPv4)ã€‚ -j host-list ä¸ä¸»æœºåˆ—è¡¨ä¸€èµ·ä½¿ç”¨çš„æ¾æ•£æºè·¯ç”±(ä»…é€‚ç”¨äº IPv4)ã€‚ -k host-list ä¸ä¸»æœºåˆ—è¡¨ä¸€èµ·ä½¿ç”¨çš„ä¸¥æ ¼æºè·¯ç”±(ä»…é€‚ç”¨äº IPv4)ã€‚ -w timeout ç­‰å¾…æ¯æ¬¡å›å¤çš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚ -R åŒæ ·ä½¿ç”¨è·¯ç”±æ ‡å¤´æµ‹è¯•åå‘è·¯ç”±(ä»…é€‚ç”¨äº IPv6)ã€‚ æ ¹æ® RFC 5095ï¼Œå·²å¼ƒç”¨æ­¤è·¯ç”±æ ‡å¤´ã€‚ å¦‚æœä½¿ç”¨æ­¤æ ‡å¤´ï¼ŒæŸäº›ç³»ç»Ÿå¯èƒ½ä¸¢å¼ƒ å›æ˜¾è¯·æ±‚ã€‚ -S srcaddr è¦ä½¿ç”¨çš„æºåœ°å€ã€‚ -c compartment è·¯ç”±éš”ç¦»èˆ±æ ‡è¯†ç¬¦ã€‚ -p Ping Hyper-V ç½‘ç»œè™šæ‹ŸåŒ–æä¾›ç¨‹åºåœ°å€ã€‚ -4 å¼ºåˆ¶ä½¿ç”¨ IPv4ã€‚ -6 å¼ºåˆ¶ä½¿ç”¨ IPv6ã€‚ PINGçš„é”™è¯¯ç±»å‹æ­£å¸¸çŠ¶æ€ï¼ˆpingè·¯ç”±å™¨ä¸Šçš„ç½‘å…³ï¼‰å‘é€æ•°æ®å¹¶å—åˆ°å›å¤ 123456789101112[C:\\~]$ ping 192.168.123.1æ­£åœ¨ Ping 192.168.123.1 å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:æ¥è‡ª 192.168.123.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=64æ¥è‡ª 192.168.123.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=64æ¥è‡ª 192.168.123.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=64æ¥è‡ª 192.168.123.1 çš„å›å¤: å­—èŠ‚=32 æ—¶é—´&lt;1ms TTL=64192.168.123.1 çš„ Ping ç»Ÿè®¡ä¿¡æ¯: æ•°æ®åŒ…: å·²å‘é€ = 4ï¼Œå·²æ¥æ”¶ = 4ï¼Œä¸¢å¤± = 0 (0% ä¸¢å¤±)ï¼Œå¾€è¿”è¡Œç¨‹çš„ä¼°è®¡æ—¶é—´(ä»¥æ¯«ç§’ä¸ºå•ä½): æœ€çŸ­ = 0msï¼Œæœ€é•¿ = 0msï¼Œå¹³å‡ = 0ms ä¸å¯è¾¾/æ— æ³•è®¿é—®ç›®æ ‡ä¸»æœºï¼ˆpingä¸€ä¸ªä¸å­˜åœ¨çš„åœ°å€ï¼‰ç½‘å…³æ²¡æœ‰è·¯ç”±ã€æ‰¾ä¸åˆ°è¿™ä¸ªåœ°å€çš„macåœ°å€ï¼Œå‘ä¸è¿‡å»æ•°æ® 12345678910[root@localhost ~]# ping 192.168.123.55PING 192.168.123.55 (192.168.123.55) 56(84) bytes of data.From 192.168.123.100 icmp_seq=1 Destination Host UnreachableFrom 192.168.123.100 icmp_seq=2 Destination Host UnreachableFrom 192.168.123.100 icmp_seq=3 Destination Host UnreachableFrom 192.168.123.100 icmp_seq=4 Destination Host Unreachable^C--- 192.168.123.55 ping statistics ---6 packets transmitted, 0 received, +4 errors, 100% packet loss, time 4999mspipe 4 è¶…æ—¶è¿™é‡Œæˆ‘æ˜¯pingæˆ‘çš„æ—è·¯ç”±ï¼ˆç¦pingï¼‰ å¯ä»¥å‘æ•°æ®è¿‡å»ï¼Œå¯¹æ–¹ä¸å›å¤ï¼ˆmacè¡¨ä¸­æœ‰å¯¹æ–¹åœ°å€ï¼‰ ä¸€èˆ¬ä¸ºå¯¹æ–¹ä¸åœ¨çº¿æˆ–è€…å±è”½ 12345678910[C:\\~]$ ping 192.168.1.1æ­£åœ¨ Ping 192.168.1.1 å…·æœ‰ 32 å­—èŠ‚çš„æ•°æ®:è¯·æ±‚è¶…æ—¶ã€‚è¯·æ±‚è¶…æ—¶ã€‚è¯·æ±‚è¶…æ—¶ã€‚è¯·æ±‚è¶…æ—¶ã€‚192.168.1.1 çš„ Ping ç»Ÿè®¡ä¿¡æ¯: æ•°æ®åŒ…: å·²å‘é€ = 4ï¼Œå·²æ¥æ”¶ = 0ï¼Œä¸¢å¤± = 4 (100% ä¸¢å¤±)ï¼Œ è¿™é‡Œæˆ‘å‘ç°ä¸€ä¸ªå…¶ä»–çš„ç°è±¡ï¼Œæˆ‘åœ¨ä½¿ç”¨linuxæ¥pingæ²¡æœ‰ç¦pingæ—¶çš„æ—è·¯ç”±æ—¶ é¦–å…ˆå¾—åˆ°äº†ä¸€ä¸ª1.39msçš„å›å¤ æ¥ç€æˆ‘çš„ç½‘å…³æ‰€åœ¨çš„è·¯ç”±å‘ŠçŸ¥äº†æˆ‘ä¸€ä¸ªæ–°çš„ä¸‹ä¸€è·³ æ¥ä¸‹æ¥çš„å»¶è¿Ÿéƒ½åœ¨0.3mså·¦å³äº† 1234567891011121314[root@localhost ~]# ping 192.168.1.1PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.64 bytes from 192.168.1.1: icmp_seq=1 ttl=64 time=1.39 msFrom 192.168.123.1 icmp_seq=2 Redirect Host(New nexthop: 192.168.1.1)From 192.168.123.1: icmp_seq=2 Redirect Host(New nexthop: 192.168.1.1)64 bytes from 192.168.1.1: icmp_seq=2 ttl=64 time=0.402 ms64 bytes from 192.168.1.1: icmp_seq=3 ttl=64 time=0.371 ms64 bytes from 192.168.1.1: icmp_seq=4 ttl=64 time=0.319 ms64 bytes from 192.168.1.1: icmp_seq=5 ttl=64 time=0.303 ms64 bytes from 192.168.1.1: icmp_seq=6 ttl=64 time=0.346 ms^C--- 192.168.1.1 ping statistics ---6 packets transmitted, 6 received, +1 errors, 0% packet loss, time 5001msrtt min/avg/max/mdev = 0.303/0.523/1.399/0.393 ms","categories":[],"tags":[]},{"title":"ARPå­¦ä¹ ç¬”è®°","slug":"ARP","date":"2019-11-08T17:09:07.000Z","updated":"2019-11-18T11:16:12.492Z","comments":true,"path":"2019/11/09/ARP/","link":"","permalink":"https://eeeje.com/2019/11/09/ARP/","excerpt":"","text":"æ•°æ®é“¾è·¯æ‡’å¾—æ²¡åšç¬”è®° ARPåœ°å€è§£æåè®® é€šè¿‡ç›®çš„IPæ¥è·å–MACåœ°å€çš„è¿‡ç¨‹ç”±ARPæ¥å®ç° ARPåŸç†å‰æï¼Œæ•°æ®åŒ…ä¸­ï¼Œæºmacï¼ŒæºIPï¼Œç›®æ ‡IPéƒ½æ˜¯å·²çŸ¥çš„ï¼Œé‚£ä¹ˆï¼Œç›®æ ‡macæ˜¯æ€ä¹ˆå¾—æ¥çš„å‘¢ ç®€å•çš„è¯´ å°ç‹ï¼šè°æ˜¯å°æï¼Œå‘Šè¯‰å°ç‹ å°æï¼šå°æåœ¨ç¬¬ä¸€æ’ç¬¬ä¸€ä¸ªåº§ä½ è¿™æ˜¯æˆ‘åœ¨å±€åŸŸç½‘æŠ“çš„åŒ…ï¼Œç§‘æ¥è½¯ä»¶å¯ä»¥ç›´æ¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ping 192.168.123.1çš„æ—¶å€™ä»–å‘é€ä¸€ä¸ªåŒ…ï¼Œæ­¤æ—¶ç”µè„‘ç½‘å¡çš„macç¼“å­˜ä¸­å¹¶æ²¡æœ‰192.168.1.1çš„macåœ°å€ï¼Œæ‰€ä»¥ä»–çš„ç›®çš„åœ°å€ä¸ºFF-FF-FF-FF-FF-FF(å¹¿æ’­) é—®ï¼šè°æ˜¯192.168.123.1ï¼Œå‘Šè¯‰192.168.123.123ï¼ˆç”µè„‘çš„ipï¼‰ æ¥ç€ï¼Œè·¯ç”±å™¨å›å¤ç»™ç”µè„‘ä¸€ä¸ªåŒ…ï¼Œ192.168.123.1åœ¨B0:25:AA:23:AB:74 (Private)ï¼Œï¼ˆå‰6ä½16è¿›åˆ¶æ•°ä»£è¡¨å‚å•†ï¼‰ è¿™å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„arpï¼Œä¸€æ¬¡Requestå’Œä¸€æ¬¡Response å†ç”¨enspæ¥æŠ“åŒ…çœ‹ï¼ˆstp disableå…³é—­ç”Ÿæˆæ ‘ï¼‰ åœ¨è¿™é‡Œæˆ‘å‘ç°äº†ä¸€ä¸ªåŒºåˆ«ï¼Œåœ¨çœŸæœºæŠ“åŒ…æ—¶ï¼Œä»¥å¤ªç½‘å°è£…çš„ç›®çš„åœ°å€ä¸ºFF-FF-FF-FF-FF-FFä½†æ˜¯arpåè®®ä¸­å´æ˜¯00-00-00-00-00-00Fï¼Œæ¨¡æ‹Ÿå™¨ä¸­åˆ™éƒ½æ˜¯FF-FF-FF-FF-FF-FF æ€»ç»“ï¼š å‘é€ æºip æºmac ç›®æ ‡ip ç›®æ ‡ip ç›¸åº” æºip æºmac ç›®æ ‡ip ç›®æ ‡ip æ‹“å±• MACåœ°å€æ‰«æå™¨çš„åŸç†å°±æ˜¯å‘å‡ºå¾ˆå¤šä¸ªarpçš„åŒ…ï¼ŒæŒ¨ä¸ªå»é—®ã€‚ ARPç¼“å­˜ ARPæ¬ºéª—æ›´æ”¹æºMACè¾¾åˆ°â€œæ¬ºéª—â€çš„æ•ˆæœ æƒ…æ™¯ï¼šä¸»æœº3ä¿®æ”¹ä¸ºå’Œä¸»æœº2ç›¸åŒçš„ipï¼Œä¸»æœº1åœ¨è¿›è¡Œå‘åŒ…æ—¶ä¼šå‘æœ€æ–°æ”¶åˆ°çš„ResponseæŠ¥æ–‡ä¸­çš„macåœ°å€å‘é€ ä¸»æœº1ï¼šè°æ˜¯1.1.1.2 ä¸»æœº2ï¼š1.1.1.2åœ¨aåœ°å€ï¼ˆçœŸå®ï¼‰ ä¸»æœº3ï¼š1.1.1.2åœ¨båœ°å€ï¼ˆæ¬ºéª—ï¼‰ ä¸»æœº1å°†1.1.1.2çš„åŒ…å‘å¾€båœ°å€ å®è·µ ä½¿ç”¨å·¥å…·æŠ“åˆ°ç½‘å…³å›ç»™æˆ‘çš„åŒ…ï¼Œä¿®æ”¹arpä¸­çš„æºmacåœ°å€ï¼Œå†å‘é€å¹¿æ’­æŠ¥æ–‡è¿›è¡Œarpæ¬ºéª— ä¸‹é¢å¯ä»¥çœ‹åˆ°æˆ‘çš„ç”µè„‘arpç¼“å­˜ä¸­çš„macå·²ç»å˜ä¸ºäº†11:22:33:44:55:66æŠ“åŒ…è½¯ä»¶ä¹Ÿæ˜¯æŠ“åˆ°äº†æˆ‘ä¸åœå‘é€çš„åŒ…ã€‚ é˜²èŒƒä¸»æœºä¸Šçš„é˜²èŒƒï¼Œé€šè¿‡è½¯ä»¶ç»‘å®šç½‘å…³çš„ipä¸macï¼Œä¿æŠ¤è¿™å°ç”µè„‘ä¸è¢«â€œæ¬ºéª—â€ äº¤æ¢æœºï¼šæ‹¥æœ‰å¾ˆå®Œå–„çš„ä¸€å¥—é˜²èŒƒè®¾æ–½ã€‚ï¼ˆnpå®‰å…¨ï¼‰ å…è´¹ARPå…è´¹()ARPå¯ä»¥æ£€æµ‹å‡ºipåœ°å€æ˜¯å¦å†²çª æ›´æ”¹ipä»¥åï¼Œç”µè„‘ä¼šå…ˆè¯¢é—®ç½‘ç»œä¸­æœ‰æ²¡æœ‰äººä½¿ç”¨è¿™ä¸ªipï¼Œå¦‚æœæ²¡æœ‰å›å¤ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªip å½“è¿™ä¸ªipæœ‰äººä½¿ç”¨æ—¶ï¼Œè¯æ˜åœ°å€å†²çªï¼Œç”µè„‘åˆ™ä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªæ— æ•ˆçš„åœ°å€ æ€»ç»“ARPæŠ¥æ–‡ä¸èƒ½ç©¿è¶Šè·¯ç”±å™¨ï¼Œä¸èƒ½è½¬å‘åˆ°å…¶ä»–å¹¿æ’­åŸŸ","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://eeeje.com/tags/%E5%AD%A6%E4%B9%A0/"}]},{"title":"11.5ç¬”è®°","slug":"11.5","date":"2019-11-05T11:05:44.000Z","updated":"2019-11-18T11:16:12.365Z","comments":true,"path":"2019/11/05/11.5/","link":"","permalink":"https://eeeje.com/2019/11/05/11.5/","excerpt":"","text":"vlanè·¯ç”±å™¨åˆ†å‰²å¹¿æ’­åŸŸ è·¨vlané€šä¿¡ å•è‡‚è·¯ç”± å­æ¥å£ SVIå£ é—®é¢˜ï¼š acess trunk hybrid ä»€ä¹ˆæ—¶å€™æ‰“tag ä»€ä¹ˆæ—¶å€™å‰¥ç¦»tagçš„é—®é¢˜ï¼Ÿ","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"è¯¾ç¨‹","slug":"è¯¾ç¨‹","permalink":"https://eeeje.com/tags/%E8%AF%BE%E7%A8%8B/"}]},{"title":"1103 OSPFç¬”è®°","slug":"1103","date":"2019-11-03T11:05:44.000Z","updated":"2019-11-18T11:16:12.477Z","comments":true,"path":"2019/11/03/1103/","link":"","permalink":"https://eeeje.com/2019/11/03/1103/","excerpt":"","text":"ospfåŸºç¡€RIPæ˜¯ä¸€ä¸ªçŸ¢é‡è·ç¦»è·¯ç”±åè®® OSPFåŒºåŸŸå†…é SPFç®—æ³•ä¿è¯æ— è·¯ç”±ç¯è·¯ åŒºåŸŸé—´ä¾é  åŒºåŸŸé—´çš„é“¾æ¥è§„åˆ™ éª¨å¹²åŒºåŸŸ area0åŒºåŸŸ ééª¨å¹²åŒºåŸŸå›´ç»•éª¨å¹²åŒºåŸŸæ˜Ÿå‹æ‹“æ‰‘ æ¨èã€Šæ•°æ®ç»“æ„ã€‹ ä¸‰ä¸ªè·¯ç”±å™¨ æ¯ä¸ªéƒ½å¯ç”¨ospf åŒåŒºåŸŸ lsa ï¼ˆé“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œé“¾è·¯çŠ¶æ€é€šå‘Šï¼‰ï¼šæ¥å£ä¿¡æ¯ç­‰ äº’ç›¸ floodingï¼ˆæ³›æ´ªï¼‰æœ‰å¹³è¡¡ç‚¹ æ¯å°éƒ½æœ‰ä¸€ä¸ªlsdb é“¾è·¯æ•°æ®åº“ ä¸‰ä»½æ•°æ®åº“ æ¯ä¸€ä¸ªéƒ½å»é€šè¿‡spfè®¡ç®—ä»è‡ªå·±å‡ºå‘çš„æœ€çŸ­è·¯å¾„ ç”»å‡ºä¸€ä¸ªæœ‰å‘å›¾ï¼ˆæ ‘çŠ¶å›¾-æ— ç¯è·¯ï¼‰ OSPFæŠ¥æ–‡5ç§æŠ¥æ–‡ helloæŠ¥æ–‡ dd æŠ¥æ–‡ lsr æŠ¥æ–‡ lsuæŠ¥æ–‡ lsackæŠ¥æ–‡ æŠ¥æ–‡å¤´ç›¸åŒ ä½†å‡¡æ˜¯åè®®ï¼Œéƒ½æœ‰çŠ¶æ€æœº è·¯ç”±äº¤æ¢ å®‰å…¨ wlan é‚»å±…çŠ¶æ€æœº ï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰ Router IDæ˜¯ä¸€ä¸ª32ä½çš„å€¼ 2-wayåˆ°ExStartæ˜¯é€‰DR MAç½‘ç»œå¹¿æ’­ è·¯ç”±ä¹‹é—´è¿æ¥å±äºmaæ— è®ºå‡ ä¸ªç›¸è¿ DRå’ŒBDRçš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ å…ˆé€‰BDRå†é€‰DR","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"è¯¾ç¨‹","slug":"è¯¾ç¨‹","permalink":"https://eeeje.com/tags/%E8%AF%BE%E7%A8%8B/"}]},{"title":"åä¸ºè®¾å¤‡OSPFè·¯ç”±çš„é…ç½®","slug":"OSPF","date":"2019-11-02T17:44:10.000Z","updated":"2019-11-18T11:16:12.879Z","comments":true,"path":"2019/11/03/OSPF/","link":"","permalink":"https://eeeje.com/2019/11/03/OSPF/","excerpt":"","text":"å®éªŒä¸­æœ‰å¾ˆå¤šä¸ªäººçš„ç†è§£ï¼Œå› ä¸ºåŸºç¡€è¾ƒå·®ï¼Œéš¾å…ä¼šæœ‰ä¸€äº›é”™è¯¯çš„åœ°æ–¹ï¼Œå¦‚æœæ‚¨æœ‰å»ºè®®æˆ–ç†è§£ï¼Œæ¬¢è¿åœ¨æ–‡ç« ä¸‹æ–¹ç•™è¨€ğŸ˜ æ–‡ç« è¾ƒé•¿ï¼Œä¸‹æ–¹æµ®åŠ¨æ æœ‰æ–‡ç« ç›®å½•æŒ‰é’®å“ŸğŸ˜ƒ OSPFOpen Shortest Path Firstç¿»è¯‘è¿‡æ¥æ˜¯å¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆ åä¸ºè®¾å¤‡ä¸­OSPFçš„ä¼˜å…ˆçº§æ˜¯ 10 ä»…ä½äºç›´è¿è·¯ç”± OSPFå•åŒºåŸŸé…ç½®å®éªŒè®¾å¤‡HUAWEI AR2220 PC å®éªŒæ‹“æ‰‘&amp;è§„åˆ’æˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨å®éªŒæŒ‡å¯¼ä¸­æä¾›çš„IPè§„åˆ’ å®éªŒç›®çš„é€šè¿‡é…ç½®å•ä¸ªOSPFåŒºåŸŸçš„é…ç½®ï¼Œä½¿PC1ã€PC2ã€PC2æ‰€åœ¨ç½‘ç»œäº’é€š å®éªŒè¿‡ç¨‹ ä¸ºå„æ¥å£ä»¥åŠPCé…ç½®IPï¼Œå¹¶ç¡®ä¿æ¯ä¸€å¯¹æ¥å£ä¹‹é—´è¿é€šã€‚ ä¸ºè·¯ç”±å™¨é…ç½®OSPF 1[R1]ospf 1 //1ä¸ºè¿›ç¨‹å· è¿›å…¥éª¨å¹²åŒºåŸŸ 1[R1-ospf-1]area 0 æ¥ä¸‹æ¥å°±å¯ä»¥æ¥æŒ‡å®šè¿è¡ŒOSPFåè®®çš„æ¥å£å’Œæ¥å£æ‰€å±çš„åŒºåŸŸ 123[R1-ospf-1-area-0.0.0.0]network 172.10.1.0 0.0.0.255[R1-ospf-1-area-0.0.0.0]network 10.0.0.0 0.0.0.3[R1-ospf-1-area-0.0.0.0]network 10.0.0.4 0.0.0.3 Qï¼šè¿™é‡Œçš„å‘½ä»¤æˆ‘ä¸å¤ªç†è§£çŒœæµ‹åé¢çš„åº”è¯¥ä¸º255å‡å»åŸæ¥çš„æ©ç ä½ï¼ˆæ•°é€šåŸºç¡€ä¸å¥½ï¼‰ æ£€æŸ¥é€šå‘Šæƒ…å†µï¼Œå‘½ä»¤ï¼šdisplay ospf interface 12345678 OSPF Process 1 with Router ID 172.10.1.254 Interfaces Area: 0.0.0.0 (MPLS TE not enabled)IP Address Type tate Cost Pri DR BDR 172.10.1.254 Broadcast DR 1 1 172.10.1.254 0.0.0.010.0.0.2 Broadcast DR 1 1 10.0.0.2 0.0.0.010.0.0.6 Broadcast DR 1 1 10.0.0.6 0.0.0.0 è¿™é‡Œå¯ä»¥çœ‹åˆ°areaåŸŸä¸º0.0.0.0ï¼ŒRoutIDä¸º172.10.1.254 ï¼Œå¦å¤–å¯ä»¥çœ‹å¾…é€šå‘Šå‡ºå»ä¸‰ä¸ªæ¥å£çš„ç±»å‹ä¸ºå¹¿æ’­ï¼Œæ¥å£çŠ¶æ€ä¸ºDRï¼Œå³éƒ½æ˜¯æ‰€åœ¨ç½‘ç»œä¸­çš„æŒ‡å®šè·¯ç”±å™¨ã€‚æ‹“å±•ï¼šDR ï¼šä¸€ä¸ªå¹¿æ’­æ€§ã€å¤šæ¥å…¥ç½‘ç»œä¸­çš„æŒ‡å®šè·¯ç”±å™¨ï¼Œä¸ªäººç†è§£ä¸ºä¸€ä¸ªç½‘ç»œä¸­çš„â€œç®¡äº‹çš„â€Qï¼šä¸ºä»€ä¹ˆä¼šé€‰è¿™ä¸ªipåšä¸ºRoutIDï¼Ÿ é…ç½®R2 R3 1234567891011[R2]ospf 1[R2-ospf-1]area 0[R2-ospf-1-area-0.0.0.0]network 10.0.0.1 0.0.0.3[R2-ospf-1-area-0.0.0.0]network 10.0.0.9 0.0.0.3[R2-ospf-1-area-0.0.0.0]network 172.10.2.254 0.0.0.255[R3]ospf 1[R3-ospf-1]area 0[R3-ospf-1-area-0.0.0.0]network 10.0.0.5 0.0.0.3[R3-ospf-1-area-0.0.0.0]network 10.0.0.10 0.0.0.3[R3-ospf-1-area-0.0.0.0]network 172.10.3.1 0.0.0.255 è¿™é‡Œæˆ‘é…ç½®å®Œä»¥åå‘ç°ï¼Œå‘½ä»¤æ•²é”™äº†ï¼Œnetwork åé¢çš„ç›´æ¥è¾“äº†æ¥å£åœ°å€ï¼Œä½†æ˜¯æˆ‘å»æŸ¥é€šå‘Šæƒ…å†µï¼Œçœ‹èµ·æ¥æ˜¯æ­£å¸¸çš„ï¼Œæˆ‘è§‰å¾—ï¼Œåé¢çš„é‚£ä¸ªå­—æ®µå’Œæ©ç æœ‰å…³ï¼Œæ©ç æ˜¯ç”¨æ¥å®šä¹‰ç½‘ç»œçš„ï¼Œæ‰€ä»¥è¯´æˆ‘è¾“å…¥çš„32ä½çš„åœ°å€è¢«å®šä¹‰ä¸ºäº†å½“å‰ipæ‰€åœ¨çš„ç½‘ç»œï¼Œæš‚ä¸”ä¸å»ç®¡ä»–ã€‚ æ£€æŸ¥OSPFé‚»å±…display ospf peer 12345678910111213141516171819202122OSPF Process 1 with Router ID 172.10.1.254 NeighborsArea 0.0.0.0 interface 10.0.0.2(GigabitEthernet0/0/0)&apos;s neighborsRouter ID: 172.10.2.254 Address: 10.0.0.1 State: Full Mode:Nbr is Master Priority: 1 DR: 10.0.0.2 BDR: 10.0.0.1 MTU: 0 Dead timer due in 39 sec Retrans timer interval: 5 Neighbor is up for 00:35:24 Authentication Sequence: [ 0 ] Neighbors Area 0.0.0.0 interface 10.0.0.6(GigabitEthernet0/0/2)&apos;s neighborsRouter ID: 10.0.0.10 Address: 10.0.0.5 State: Full Mode:Nbr is Slave Priority: 1 DR: 10.0.0.6 BDR: 10.0.0.5 MTU: 0 Dead timer due in 29 sec Retrans timer interval: 5 Neighbor is up for 00:28:32 Authentication Sequence: [ 0 ] è¿™é‡Œçœ‹åˆ°äº†ä¸¤ä¸ªOSPFé‚»å±…RoutIDåˆ†åˆ«ä¸ºï¼š172.10.1.254ï¼Œ10.0.0.10ï¼ˆè¿™ä¸ªRoutIDç”¨äº†è·¯ç”±ä¹‹é—´çš„æ¥å£IDï¼‰ çŒœæµ‹ï¼šRoutIDçš„åŸåˆ™æ˜¯ä¸é‡å¤ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸æ˜¯éšä¾¿æŒ‡å®šä¸€ä¸ªipåšä¸ºRoutIDå®éªŒï¼šæˆ‘æ–°å¼€äº†ä¸€å°è·¯ç”±å™¨å»å°è¯•ï¼Œå‘ç° RoutIDçš„é€‰æ‹©æ˜¯æ ¹æ®ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£ipè¿›è¡Œé€‰æ‹©çš„ã€‚æˆ‘å›å¤´å»çœ‹R3çš„æ•°æ®ï¼Œæˆ‘ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£Ipçš„ç¡®æ˜¯1.0.0.10/30 ç°åœ¨å†å»æŸ¥é€šå‘Šæƒ…å†µï¼Œçœ‹ä¸€ä¸‹å‰é¢çœ‹ä¸æ‡‚çš„DR 12345678 OSPF Process 1 with Router ID 172.10.1.254 Interfaces Area: 0.0.0.0 (MPLS TE not enabled)IP Address Type State Cost Pri DR BDR 172.10.1.254 Broadcast DR 1 1 172.10.1.254 0.0.0.010.0.0.2 Broadcast DR 1 1 10.0.0.2 10.0.0.110.0.0.6 Broadcast DR 1 1 10.0.0.6 10.0.0.5 DRæ˜¯æŒ‡å®šè·¯ç”±å™¨ï¼ŒBDRæ˜¯å¤‡ä»½æŒ‡å®šè·¯ç”±å™¨ï¼Œæ—¢ç„¶å‰é¢è¯´åˆ°äº†DRæ˜¯ç®¡äº‹çš„é‚£BDRå°±æ˜¯å‰¯ç®¡äº‹çš„ï¼Œå½“ç®¡äº‹çš„ä¸åœ¨æˆ–è€…åšé”™çš„æ—¶å€™ï¼Œå‰¯ç®¡äº‹çš„å°±å‡ºæ¥æ¥æ‰‹ï¼Œè¿™ä¸¤ä¸ªç®¡äº‹çš„åˆæ˜¯ç”±å¤§å®¶é€‰å‡ºæ¥çš„ï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°OSPFçš„é€‰ä¸¾æœºåˆ¶äº†ï¼Œç”±äºç†è®ºéƒ¨åˆ†è¿˜æ²¡æœ‰å­¦åˆ°è¿™é‡Œï¼Œæš‚æ—¶æ”¾ä¸€ä¸‹ã€‚ ç°åœ¨ä»è¡¨ä¸­çœ‹å‡ºï¼Œ172.1.1.254æ˜¯è‡ªå·±æ‰€åœ¨ç½‘ç»œçš„DRï¼Œä»–çš„BDRæ˜¯ä¸€ä¸ªç¼ºçœçŠ¶æ€ï¼Œå¦å¤–ä¸¤ä¸ªç½‘ç»œçš„BDRéƒ½æ˜¯è‡ªå·±ç½‘ç»œä¸­å­˜åœ¨äºOSPFåŸŸä¸­çš„åœ°å€ å†çœ‹çœ‹OSPFçš„è·¯ç”±è¡¨ Public routing table : OSPF Destinations : 3 Routes : 4 OSPF routing table status : &lt;Active&gt; Destinations : 3 Routes : 4 Destination/Mask Proto Pre Cost Flags NextHop Interface 10.0.0.8/30 OSPF 10 2 D 10.0.0.1 GigabitEthernet 0/0/0 OSPF 10 2 D 10.0.0.5 GigabitEthernet 0/0/2 172.10.2.0/24 OSPF 10 2 D 10.0.0.1 GigabitEthernet 0/0/0 172.10.3.0/24 OSPF 10 2 D 10.0.0.5 GigabitEthernet 0/0/2 OSPF routing table status : &lt;Inactive&gt; Destinations : 0 Routes : 0å®éªŒéªŒè¯ ç”±PC1ping PC2 PC&gt;ping 172.10.2.1 Ping 172.10.2.1: 32 data bytes, Press Ctrl_C to break Request timeout! From 172.10.2.1: bytes=32 seq=2 ttl=126 time=16 ms From 172.10.2.1: bytes=32 seq=3 ttl=126 time=15 ms From 172.10.2.1: bytes=32 seq=4 ttl=126 time=16 ms From 172.10.2.1: bytes=32 seq=5 ttl=126 time=16 ms --- 172.10.2.1 ping statistics --- 5 packet(s) transmitted 4 packet(s) received 20.00% packet loss round-trip min/avg/max = 0/15/16 mså•åŒºåŸŸçš„å®éªŒç»“æŸ OSPFå¤šåŒºåŸŸé…ç½®åœ¨ç½‘ç»œè§„æ¨¡å¾ˆå¤§çš„æ—¶å€™ï¼Œå°±è¦åˆ†ä¸ºå¤šä¸ªè‡ªæ²»åŸŸå»ç®¡ç†ï¼Œå¦åˆ™æ¯ä¸ªè·¯ç”±ä¸Šçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“å°†ä¼šéå¸¸çš„å·¨å¤§ï¼Œè¿™å°±è€ƒè™‘åˆ°äº†è·¯ç”±å™¨çš„ç¡¬ä»¶å› ç´ ï¼Œæ‰“ä¸ªç®€å•çš„æ¯”æ–¹ï¼Œå¤§å®¶éƒ½çŸ¥é“Ï€=3.141592653â€¦ä½†æ˜¯è¿™ä¸ªå€¼ä¸éœ€è¦æˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éƒ½æ‹¿å»ç®—ï¼Œå› ä¸ºå·²ç»æœ‰äººç®—å¥½äº†ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼Œå¤šåŒºåŸŸå°±æ˜¯ä¸åŒasåŸŸçš„è®¡ç®—ã€é€‰ä¸¾ï¼Œéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç”±è¾¹ç•Œè·¯ç”±æä¾›åŒºåŸŸé—´çš„è”ç³»ã€‚ å…³äºé“¾è·¯æ•°æ®åº“å¤§å°çš„æ¦‚å¿µï¼Œè¿™é‡Œæ‹¿ä¸€å°æ¥è‡ªä¿„å‹’å†ˆå¤§å­¦å…¨çƒBGPè·¯ç”±è¡¨æµè§ˆé¡¹ç›®çš„è·¯ç”±å™¨æ‰“ä¸ªæ¯”æ–¹ï¼ˆå¥½åƒå…³ç³»ä¸å¤§ğŸ¤”ï¼‰è¿™æ˜¯ä¸€å°æ€ç§‘çš„è®¾å¤‡ï¼Œä½¿ç”¨çš„BGPè·¯ç”±ä»–çš„è·¯ç”±è¡¨æ˜¯ä¸€ä¸ªå¾ˆåºå¤§çš„æ•°é‡ä½¿ç”¨çš„å†…å­˜ä¹Ÿè¾¾åˆ°äº†8.5Gå·¦å³ è€Œæˆ‘ä»¬å®éªŒä¸­ç”¨åˆ°çš„AR2220çš„å†…å­˜ä»…æœ‰1Gå¥½åƒospfå¤šåŸŸè§£å†³çš„æ˜¯è®¡ç®—ç­‰é—®é¢˜ï¼Œè€Œä¸”ospfå’Œbgpçš„æœºåˆ¶ä¹Ÿæœ‰å¾ˆå¤§ä¸åŒğŸ˜“ï¼Œä¸Šé¢è¿™éƒ¨åˆ†å°±å½“ä¸ªæ‹“å±•ï¼Œå¦å¤–åœ¨ç™¾åº¦çš„æ—¶å€™å‘ç°äº†ä¸€æ®µæœ‰æ„æ€çš„è¯ï¼š OSPFï¼šâ€œèº«å¦‚è·¯ç”±å™¨ï¼Œå¿ƒä¼¼è½¬å‘è¡¨ï¼ŒæŠ¥æ–‡ä½•å…¶å¤šï¼Œæ—¥å¤œå‹¤æŸ¥æ‰¾ã€‚â€BGPï¼šâ€œè·¯ç”±æœ¬éå™¨ï¼Œè½¬å‘ä½•éœ€è¡¨ï¼ŸæŠ¥æ–‡è™½ç„¶å¤šï¼Œè‡ªæœ‰ä»–äººæ‰¾ã€‚â€ å…ˆæ”¶è—èµ·æ¥ è¨€å½’æ­£ä¼  å®éªŒæ‹“æ‰‘&amp;è§„åˆ’åŸºäºä¸Šä¸€éƒ¨åˆ†æ˜¯å®éªŒè¿›è¡Œæ”¹åŠ¨å…¶ä¸­R1 R2 R3 R4 åœ¨åŒºåŸŸ 0 ä¸­ï¼ŒR1 R2 R5åœ¨åŒºåŸŸ 1 ä¸­ï¼ŒR3 R4 R6 åœ¨åŒºåŸŸ 2 ä¸­ å®éªŒç›®çš„R1 R2 R3 R4 ä¸ºæ ¸å¿ƒåŒºåŸŸï¼Œåœ¨åŒä¸€ä¸ªasåŸŸä¸­ï¼Œå…¶ä¸­R1 R2 ä¸ R5 åŒåœ¨åŒºåŸŸ 1 ä¸­ï¼ŒR3 R4 ä¸ R5 åŒåœ¨åŒºåŸŸ 2 ä¸­ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œåˆ†å¸ƒå¼è®¡ç®—â€ï¼ŒåŒºåŸŸ1è®¡ç®—å‡ºa=1ï¼ŒåŒºåŸŸ2è®¡ç®—å‡ºb=2ï¼ŒåŒºåŸŸ3è®¡ç®—å‡ºc=3,ç”²åœ¨åŒºåŸŸ1å’Œ2ä¸­ï¼Œä¹™åœ¨åŒºåŸŸ2å’Œ3ä¸­ï¼Œç”²å’Œä¹™äº’ç›¸æ²Ÿé€šåï¼Œå¤§å®¶éƒ½çŸ¥é“a,b,cçš„å€¼äº†ã€‚ å®éªŒè¿‡ç¨‹ é…ç½®å„æ¥å£IP é…ç½®éª¨å¹²åŒºåŸŸï¼Œå°†R1 R2 R3 R4 é…å…¥area 0 ä¸­ï¼Œå¹¶äº’ç›¸é€šå‘Š é…ç½®åŒºåŸŸA å³R1 R2 R5 é…å…¥ area 1 ä¸­ï¼Œå…¶ä¸­R1 R2åªé€šå‘Šä¸R5ç›¸è¿çš„æ¥å£ é…ç½®åŒºåŸŸB å³R3 R4 R6 é…å…¥ area 2 ä¸­ï¼Œå…¶ä¸­R3 R4åªé€šå‘Šä¸R6ç›¸è¿çš„æ¥å£ é‚»åŒºæ²¡æœ‰é—®é¢˜ æŸ¥ä¸€ä¸‹OSPFé“¾è·¯çŠ¶æ€æ•°æ®åº“ 1234567891011121314151617181920212223242526272829[Huawei]display ospf lsdbOSPF Process 1 with Router ID 10.0.0.18 Link State Database Area: 0.0.0.2 Type LinkState ID AdvRouter Age Len Sequence MetricRouter 10.0.0.14 10.0.0.14 411 36 80000005 1Router 172.10.3.254 172.10.3.254 421 36 80000005 1Router 10.0.0.18 10.0.0.18 409 60 80000008 1Network 10.0.0.17 10.0.0.14 411 32 80000002 0Network 10.0.0.22 172.10.3.254 421 32 80000002 0Sum-Net 172.10.3.0 172.10.3.254 615 28 80000001 1Sum-Net 172.10.3.0 10.0.0.14 560 28 80000001 2Sum-Net 172.10.2.0 172.10.3.254 615 28 80000001 2Sum-Net 172.10.2.0 10.0.0.14 560 28 80000001 3Sum-Net 172.10.1.0 172.10.3.254 615 28 80000001 3Sum-Net 172.10.1.0 10.0.0.14 560 28 80000001 3Sum-Net 10.0.0.12 172.10.3.254 615 28 80000001 2Sum-Net 10.0.0.12 10.0.0.14 560 28 80000001 1Sum-Net 10.0.0.8 172.10.3.254 615 28 80000001 1Sum-Net 10.0.0.8 10.0.0.14 560 28 80000001 2Sum-Net 10.0.0.4 172.10.3.254 615 28 80000001 1Sum-Net 10.0.0.4 10.0.0.14 560 28 80000001 1Sum-Net 10.0.0.0 172.10.3.254 615 28 80000001 2Sum-Net 10.0.0.0 10.0.0.14 560 28 80000001 2Sum-Net 10.0.0.28 172.10.3.254 615 28 80000001 2Sum-Net 10.0.0.28 10.0.0.14 560 28 80000001 3Sum-Net 10.0.0.24 172.10.3.254 615 28 80000001 3Sum-Net 10.0.0.24 10.0.0.14 560 28 80000001 2 é™¤äº†æˆ‘ä»¬é€šå‘Šçš„è·¯ç”±ä¹‹å¤–ï¼Œå…¶ä»–çš„è·¯ç”±éƒ½æ˜¯Sum-Netç±»å‹çš„æˆ‘å»æœSum-Netæ˜¯ä»€ä¹ˆï¼Œå¹¶æ²¡æœ‰æœåˆ°ï¼Œä½†æ˜¯å‘ç°å¯ç¤ºå½•ä¸­æœ‰ä¸€æ¡Sum-Net LSAä¼šå¼•èµ·è·¯ç”±è®¡ç®—ï¼Œå¼•å‘OSPFè·¯ç”±éœ‡è¡ å®éªŒéªŒè¯PC1 ping PC4 PC&gt;ping 172.10.4.1 Ping 172.10.4.1: 32 data bytes, Press Ctrl_C to break From 172.10.1.1: Destination host unreachableå¤±è´¥ æ’éšœ å…ˆç”¨PC1ä¸PC4 pingå„è‡ªçš„ç½‘å…³ â€“æˆåŠŸæŸ¥çœ‹R5 R6è·¯ç”±è¡¨ â€“æœ‰å¯¹åº”æ¡ç›®æ£€æŸ¥ç”µè„‘é…ç½® â€“æœªé…ç½®ç½‘å…³ PC&gt;ping 172.10.4.1 Ping 172.10.4.1: 32 data bytes, Press Ctrl_C to break Request timeout! From 172.10.4.1: bytes=32 seq=2 ttl=124 time=31 ms From 172.10.4.1: bytes=32 seq=3 ttl=124 time=31 ms From 172.10.4.1: bytes=32 seq=4 ttl=124 time=31 ms From 172.10.4.1: bytes=32 seq=5 ttl=124 time=32 ms --- 172.10.4.1 ping statistics --- 5 packet(s) transmitted 4 packet(s) received 20.00% packet loss round-trip min/avg/max = 0/31/32 mså®éªŒå®Œæˆ OSPFçš„è®¤è¯â€œå¯¹æš—å·â€ æˆ‘ç†è§£ä¸ºé˜²æ­¢éæ³•è·¯ç”±åŠ å…¥ç½‘ç»œä¸­ å®éªŒæ‹“æ‰‘/è§„åˆ’ R1çš„loopbackçš„åœ°å€æ˜¯1.1.1.1 ï¼ŒR2çš„æ˜¯2.2.2.2ï¼Œä»¥æ­¤ç±»æ¨ å®éªŒç›®çš„åœ¨åŒºåŸŸ0å’Œ1é…ä¸ŠåŒºåŸŸè®¤è¯ï¼Œ0å¼€å¯å¯†æ–‡è®¤è¯ï¼Œ1å¼€å¯æ˜æ–‡è®¤è¯ å®éªŒè¿‡ç¨‹OSPFåŒºåŸŸè®¤è¯ é…ç½®å„æ¥å£IPï¼Œå¹¶é…ç½®loopbackåœ°å€ å°†R2 R3 R5 R6 é…å…¥area 0 ä¸­ï¼Œå¹¶é€šå‘Šç½‘ç»œï¼Œå°†R1 R2 R4 é…å…¥area 1 ä¸­ï¼ŒåŒæ ·é€šå‘Šç½‘ç»œ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯å°è®¾å¤‡éƒ½éœ€è¦æŠŠloopbackåœ°å€é€šå‘Šå‡ºå» é…ç½®åŒºåŸŸ å¯ä»¥çœ‹åˆ°R2æœ‰äº†æ­£ç¡®çš„é‚»å±…å…³ç³» ç»™åŒºåŸŸ1é…ç½®åŒºåŸŸè®¤è¯ R1 1234567891011121314151617[Huawei]ospf 1[Huawei-ospf-1]ar [Huawei-ospf-1]area 1[Huawei-ospf-1-area-0.0.0.1]au [Huawei-ospf-1-area-0.0.0.1]authentication-mode s [Huawei-ospf-1-area-0.0.0.1]authentication-mode simple p [Huawei-ospf-1-area-0.0.0.1]authentication-mode simple plain huawei1[Huawei-ospf-1-area-0.0.0.1]disp [Huawei-ospf-1-area-0.0.0.1]display th[V200R003C00]# area 0.0.0.1 authentication-mode simple plain huawei1 network 1.1.1.1 0.0.0.0 network 10.0.0.0 0.0.0.3 #return è¿™æ—¶å€™å¯ä»¥çœ‹åˆ°å£ä»¤ä¸ºhuawei1 é‡æ–°é…ç½®ä¸€é å‘ç°ä¸ªæœ‰è¶£çš„ä¸œè¥¿ï¼ŒæŒ‰ä¸Šé”®çš„æ—¶å€™ï¼ŒåŸæ¥è¾“å…¥çš„å£ä»¤ä¼šå˜æˆ****** ç°åœ¨å£ä»¤å˜ä¸ºäº†å¯†æ–‡æ˜¾ç¤º 12345678910[Huawei-ospf-1-area-0.0.0.1]authentication-mode simple huawei1[Huawei-ospf-1-area-0.0.0.1]display th[V200R003C00]# area 0.0.0.1 authentication-mode simple cipher %$%$6iLJ4J=YgV@LW7RZhQgXRp_4%$%$ network 1.1.1.1 0.0.0.0 network 10.0.0.0 0.0.0.3 #return R2ä¹Ÿæ²¡æœ‰äº†R1çš„é‚»å±…å…³ç³» 123456789&lt;R2&gt;display ospf 1 peer brief OSPF Process 1 with Router ID 10.0.0.2 Peer Statistic Information ---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/1 10.0.0.6 Full 0.0.0.1 GigabitEthernet0/0/2 4.4.4.4 Full ---------------------------------------------------------------------------- æ¥ä¸‹æ¥é…R2 R4çš„è®¤è¯ 12345678910111213141516[R2]ospf 1[R2-ospf-1]area 1 [R2-ospf-1-area-0.0.0.1]au [R2-ospf-1-area-0.0.0.1]authentication-mode s [R2-ospf-1-area-0.0.0.1]authentication-mode simple p [R2-ospf-1-area-0.0.0.1]authentication-mode simple plain huawei1[R2-ospf-1-area-0.0.0.1]authentication-mode simple huawei1[R2-ospf-1-area-0.0.0.1]display ospf 1 peer brief OSPF Process 1 with Router ID 10.0.0.2 Peer Statistic Information ---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/1 10.0.0.6 Full 0.0.0.1 GigabitEthernet0/0/0 10.0.0.1 Full ---------------------------------------------------------------------------- å¯ä»¥çœ‹åˆ°ç°åœ¨R2ä¸R1çš„é‚»å±…å…³ç³»æ¢å¤äº†ï¼Œæ²¡æœ‰äº†R4çš„é‚»å±…ï¼Œæ¥ç€å»é…R4 123456789[R4-ospf-1-area-0.0.0.1]display th[V200R003C00]# area 0.0.0.1 authentication-mode simple cipher %$%$tuiTSpt&apos;-/`8ey(B&#125;PlFR&amp;~y%$%$ network 4.4.4.4 0.0.0.0 network 10.0.0.16 0.0.0.3 #return R2çš„é‚»å±…å…³ç³»ä¹Ÿæ­£å¸¸äº† 12345678910&lt;R2&gt;display ospf 1 peer brief OSPF Process 1 with Router ID 10.0.0.2 Peer Statistic Information ---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/1 10.0.0.6 Full 0.0.0.1 GigabitEthernet0/0/2 4.4.4.4 Full 0.0.0.1 GigabitEthernet0/0/0 10.0.0.1 Full ---------------------------------------------------------------------------- OSPFé“¾è·¯éªŒè¯ åœ¨R2ä¸R4ä¹‹é—´éƒ¨ç½²MD5çš„é“¾è·¯è®¤è¯ 1[R2-GigabitEthernet0/0/2]ospf authentication-mode md5 1 huawei5 å»çœ‹é‚»å±…ä¿¡æ¯ 123456789&lt;R2&gt;display ospf 1 peer brief OSPF Process 1 with Router ID 10.0.0.2 Peer Statistic Information---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/1 10.0.0.6 Full 0.0.0.1 GigabitEthernet0/0/0 10.0.0.1 Full ---------------------------------------------------------------------------- ç°åœ¨ä¸R4çš„é‚»å±…æ²¡æœ‰äº†ï¼Œå› ä¸ºR2ä¸R4è¿æ¥çš„æ¥å£è¢«é…ä¸Šäº†é“¾è·¯è®¤è¯ ç»™R4ä¹Ÿé…ä¸Šé“¾è·¯è®¤è¯ 12345678 OSPF Process 1 with Router ID 10.0.0.2 Peer Statistic Information---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/1 10.0.0.6 Full 0.0.0.1 GigabitEthernet0/0/2 4.4.4.4 Full 0.0.0.1 GigabitEthernet0/0/0 10.0.0.1 Full ---------------------------------------------------------------------------- R2çš„ä¸R4çš„é‚»å±…é‡æ–°å»ºç«‹ OSPFè¢«åŠ¨æ¥å£é…ç½®è®©ä¸€ä¸ªæ¥å£ä»â€œå‚ä¸è€…â€å˜ä¸ºâ€œä½¿ç”¨è€…â€ æ‹“æ‰‘&amp;è§„åˆ’ å®éªŒè¿‡ç¨‹ é…ç½®æ¥å£ipï¼Œå¹¶ä¸”éƒ½æ”¾å…¥area 0 ä¸­ å¯¹PCä¸Šçš„æ¥å£è¿›è¡ŒæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šOSPFçš„hello packetæŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«äº†æœ¬areaä¸­çš„ä¿¡æ¯ æ‰€ä»¥éœ€è¦é…ç½®è¢«åŠ¨æ¥å£ï¼Œç¦æ­¢è¿æ¥ç»ˆç«¯çš„æ¥å£æ¥æ”¶å‘é€OSPFæŠ¥æ–‡ å°†ä¸ç»ˆç«¯ç›¸è¿çš„æ¥å£é…ç½®ä¸ºè¢«åŠ¨æ¥å£ 12345678910111213[R4]ospf 1[R4-ospf-1]sil [R4-ospf-1]silent-interface g 0/0/2 [R4-ospf-1]display th[V200R003C00]#ospf 1 silent-interface GigabitEthernet0/0/2 area 0.0.0.0 network 10.0.0.16 0.0.0.7 network 10.1.1.0 0.0.0.255 #return é‡æ–°å»æŠ“åŒ…ï¼Œå°±ä¸ä¼šå†å‘ç°æœ‰æ¥è‡ªOSPFçš„æŠ¥æ–‡äº† å®éªŒç»“è®ºæ—¢ç„¶è¢«åŠ¨æ¥å£ä¼šä½¿å½“å‰æ¥å£ä¸å†å‘é€å’Œæ¥æ”¶OSPFçš„æŠ¥æ–‡ï¼Œæ‰€ä»¥ä¸å¯ä»¥é…ç½®åœ¨è·¯ç”±ä¹‹é—´çš„æ¥å£ä¸Šï¼Œå¦åˆ™ä¼šä½¿å½“å‰æ¥å£é€€å‡ºOSPF OSPFçš„Router-IDå…¶å®å…³äºRouter-IDï¼Œæˆ‘ä¹‹å‰å°±åšäº†ç®€å•çš„éªŒè¯ï¼Œå½“æ—¶å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š çŒœæµ‹ï¼šRoutIDçš„åŸåˆ™æ˜¯ä¸é‡å¤ï¼Œæ‰€ä»¥è¯´æ˜¯ä¸æ˜¯éšä¾¿æŒ‡å®šä¸€ä¸ªipåšä¸ºRoutIDå®éªŒï¼šæˆ‘æ–°å¼€äº†ä¸€å°è·¯ç”±å™¨å»å°è¯•ï¼Œå‘ç° RoutIDçš„é€‰æ‹©æ˜¯æ ¹æ®ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£ipè¿›è¡Œé€‰æ‹©çš„ã€‚æˆ‘å›å¤´å»çœ‹R3çš„æ•°æ®ï¼Œæˆ‘ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£Ipçš„ç¡®æ˜¯1.0.0.10/30 å®Œå–„ä¸‹Router IDçš„é€‰ä¸¾è§„åˆ™ åœ¨æ²¡æœ‰æ‰‹åŠ¨é…ç½®Router-IDçš„æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IPï¼Œä¼šè¢«æŒ‡å®šä¸ºRouter-IDï¼Œå¦‚æœè¿™ä¸ªIPè¢«åˆ é™¤ï¼Œå¦‚æœå½“å‰æœ‰loopbackåœ°å€ï¼Œåˆ™Router-IDä¼šè¢«æŒ‡å®šä¸ºloopbackåœ°å€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šè¢«æŒ‡å®šä¸ºç¬¬äºŒä¸ªé…ç½®çš„Router-IDï¼Œä»¥æ­¤ç±»æ¨ã€‚ 123456789101112131415161718192021[Huawei]int [Huawei]interface g 0/0/0[Huawei-GigabitEthernet0/0/0]ip add 1.1.1.1 24[Huawei-GigabitEthernet0/0/0]interface g 0/0/1[Huawei-GigabitEthernet0/0/1]ip add 2.2.2.2 24[Huawei-GigabitEthernet0/0/1]disp [Huawei-GigabitEthernet0/0/1]display r [Huawei-GigabitEthernet0/0/1]display ro [Huawei-GigabitEthernet0/0/1]display route idRouterID:1.1.1.1 //æ­¤æ—¶çš„RouterIDä¸ºç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IP[Huawei-GigabitEthernet0/0/1]interface g 0/0/0[Huawei-GigabitEthernet0/0/0]undo ip add[Huawei-GigabitEthernet0/0/0]display route idRouterID:2.2.2.2 //åˆ é™¤ç¬¬ä¸€ä¸ªé…ç½®çš„æ¥å£IPåï¼Œè¢«æŒ‡å®šä¸ºç¬¬äºŒä¸ªæ¥å£IP[Huawei-GigabitEthernet0/0/0]ip add 1.1.1.1 24[Huawei-GigabitEthernet0/0/0]interface l 0[Huawei-LoopBack0]ip add 6.6.6.6 32[Huawei-LoopBack0]interface g 0/0/1[Huawei-GigabitEthernet0/0/1]undo ip ad[Huawei-GigabitEthernet0/0/1]display route idRouterID:6.6.6.6 //è¿™æ—¶å°±ä¼šè¢«æŒ‡å®šä¸ºloopbackåœ°å€ å¦‚æœRouterIDé‡å¤ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ ç®€å•æ‹“æ‰‘ é…ç½®ç›¸åŒçš„RouterID ä¿®æ”¹å®ŒRouterIDåï¼Œä¼šæœ‰è¿™æ ·çš„æé†’ï¼šè·¯ç”±å™¨IDå·²ä¿®æ”¹ï¼Œè¯·æ‰‹åŠ¨é‡ç½®ç›¸å…³åè®®æ›´æ–°è·¯ç”±å™¨ID ç°åœ¨å»æŸ¥çœ‹é‚»å±… 1234567891011 OSPF Process 1 with Router ID 1.1.1.1 Neighbors Area 0.0.0.0 interface 1.1.1.1(GigabitEthernet0/0/0)&apos;s neighborsRouter ID: 1.1.1.2 Address: 1.1.1.2 State: Full Mode:Nbr is Master Priority: 1 DR: 1.1.1.1 BDR: 1.1.1.2 MTU: 0 Dead timer due in 40 sec Retrans timer interval: 5 Neighbor is up for 00:08:51 Authentication Sequence: [ 0 ] Router IDè¿˜æ˜¯åŸæ¥çš„ï¼Œç»“åˆä¹‹å‰çš„æé†’ï¼Œéœ€è¦é‡ç½®ä¸€ä¸‹åè®®ï¼šreset ospf processï¼ˆè¿™ä¸ªå‘½ä»¤åªå¯ä»¥åœ¨ç”¨æˆ·ç•Œé¢ä½¿ç”¨ï¼‰ å†å»çœ‹é‚»å±… 123&lt;Huawei&gt;display ospf peer OSPF Process 1 with Router ID 6.6.6.6 æ²¡æœ‰é‚»å±…äº†ï¼Œé‚£ä¹ˆè·¯ç”±è‡ªç„¶ä¹Ÿä¸ä¼šé€šå‘Š å†çœ‹ä¸€ä¸‹ä¸åŒåŒºåŸŸçš„ç›¸åŒRouterID ä¸¤ä¾§çš„è·¯ç”±æ‹¥æœ‰ç›¸åŒçš„RouterID 1234567891011121314151617181920212223242526[Huawei]display ospf lsdb OSPF Process 1 with Router ID 6.6.6.6 Link State Database Area: 0.0.0.0 Type LinkState ID AdvRouter Age Len Sequence Metric Router 6.6.6.7 6.6.6.7 425 36 80000004 1 Router 6.6.6.6 6.6.6.6 592 36 80000007 1 Router 1.1.1.2 1.1.1.2 788 36 80000008 1 Router 1.1.1.1 1.1.1.1 1512 36 80000005 1 Network 1.1.1.1 6.6.6.6 592 32 80000002 0 Sum-Net 1.1.2.0 6.6.6.7 371 28 80000001 1[Huawei]ping 1.1.2.2 PING 1.1.2.2: 56 data bytes, press CTRL_C to break Reply from 1.1.2.2: bytes=56 Sequence=1 ttl=254 time=30 ms Reply from 1.1.2.2: bytes=56 Sequence=2 ttl=254 time=20 ms Reply from 1.1.2.2: bytes=56 Sequence=3 ttl=254 time=30 ms Reply from 1.1.2.2: bytes=56 Sequence=4 ttl=254 time=30 ms Reply from 1.1.2.2: bytes=56 Sequence=5 ttl=254 time=30 ms --- 1.1.2.2 ping statistics --- 5 packet(s) transmitted 5 packet(s) received 0.00% packet loss round-trip min/avg/max = 20/28/30 ms å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¹¶æ²¡æœ‰å¯¹ç½‘ç»œé€ æˆå½±å“ã€‚ æ‰€ä»¥ï¼ŒRouterIDåœ¨åŒåŒºåŸŸå†…é‡å æ˜¯ä¼šå½±å“ospfçŠ¶æ€çš„ï¼Œä¸åŒåŒºåŸŸåˆ™ä¸ä¼š DRä¸BDR12345678910&lt;R1&gt;display ospf peer b OSPF Process 1 with Router ID 1.1.1.1 Peer Statistic Information---------------------------------------------------------------------------- Area Id Interface Neighbor id State 0.0.0.0 GigabitEthernet0/0/0 2.2.2.2 2-Way 0.0.0.0 GigabitEthernet0/0/0 3.3.3.3 Full 0.0.0.0 GigabitEthernet0/0/0 4.4.4.4 Full ---------------------------------------------------------------------------- 1234567891011121314151617181920212223242526272829&lt;R1&gt;display ospf peer OSPF Process 1 with Router ID 1.1.1.1 Neighbors Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors Router ID: 2.2.2.2 Address: 192.168.1.2 State: 2-Way Mode:Nbr is Master Priority: 1 DR: 192.168.1.3 BDR: 192.168.1.4 MTU: 0 Dead timer due in 37 sec Retrans timer interval: 0 Neighbor is up for 00:00:00 Authentication Sequence: [ 0 ] Router ID: 3.3.3.3 Address: 192.168.1.3 State: Full Mode:Nbr is Master Priority: 1 DR: 192.168.1.3 BDR: 192.168.1.4 MTU: 0 Dead timer due in 30 sec Retrans timer interval: 5 Neighbor is up for 00:02:26 Authentication Sequence: [ 0 ] Router ID: 4.4.4.4 Address: 192.168.1.4 State: Full Mode:Nbr is Master Priority: 1 DR: 192.168.1.3 BDR: 192.168.1.4 MTU: 0 Dead timer due in 32 sec Retrans timer interval: 5 Neighbor is up for 00:02:25 Authentication Sequence: [ 0 ] æ­¤æ—¶R3ä¸ºDRï¼ŒR4ä¸ºBDR æ¥ç€ä¿®æ”¹OSPFçš„ç½‘ç»œç±»å‹ä¸ºç‚¹åˆ°å¤šç‚¹ 1ospf network-type p2mp æ­¤æ—¶å¯ä»¥çœ‹åˆ°ï¼ŒDRå’ŒBDRéƒ½æ˜¯none 1234567891011121314151617181920212223242526272829&lt;R1&gt;display ospf peer OSPF Process 1 with Router ID 1.1.1.1 Neighbors Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors Router ID: 2.2.2.2 Address: 192.168.1.2 State: Full Mode:Nbr is Master Priority: 1 DR: None BDR: None MTU: 0 Dead timer due in 100 sec Retrans timer interval: 5 Neighbor is up for 00:00:43 Authentication Sequence: [ 0 ] Router ID: 3.3.3.3 Address: 192.168.1.3 State: Full Mode:Nbr is Master Priority: 1 DR: None BDR: None MTU: 0 Dead timer due in 120 sec Retrans timer interval: 5 Neighbor is up for 00:00:15 Authentication Sequence: [ 0 ] Router ID: 4.4.4.4 Address: 192.168.1.4 State: Full Mode:Nbr is Master Priority: 1 DR: None BDR: None MTU: 0 Dead timer due in 103 sec Retrans timer interval: 5 Neighbor is up for 00:00:15 Authentication Sequence: [ 0 ] æ‰€ä»¥è¯´OSPFåœ¨ç‚¹åˆ°å¤šç‚¹çš„ç½‘ç»œä¸‹ä¸é€‰ä¸¾DRã€BDR æ¥ä¸‹æ¥å°†ç½‘ç»œç±»å‹è¿˜åŸ 1ospf network-type broadcast ä¿®æ”¹DRä¼˜å…ˆçº§ï¼ŒR1ï¼š100 R2ï¼š50 R4ï¼š0 R3ï¼šé»˜è®¤ 1234567891011121314151617181920212223242526272829[R1-GigabitEthernet0/0/0]display ospf peer OSPF Process 1 with Router ID 1.1.1.1 Neighbors Area 0.0.0.0 interface 192.168.1.1(GigabitEthernet0/0/0)&apos;s neighbors Router ID: 2.2.2.2 Address: 192.168.1.2 State: Full Mode:Nbr is Master Priority: 50 DR: 192.168.1.3 BDR: 192.168.1.1 MTU: 0 Dead timer due in 40 sec Retrans timer interval: 5 Neighbor is up for 00:00:11 Authentication Sequence: [ 0 ] Router ID: 3.3.3.3 Address: 192.168.1.3 State: Full Mode:Nbr is Master Priority: 1 DR: 192.168.1.3 BDR: 192.168.1.1 MTU: 0 Dead timer due in 35 sec Retrans timer interval: 5 Neighbor is up for 00:01:49 Authentication Sequence: [ 0 ] Router ID: 4.4.4.4 Address: 192.168.1.4 State: Full Mode:Nbr is Master Priority: 0 DR: 192.168.1.3 BDR: 192.168.1.1 MTU: 0 Dead timer due in 36 sec Retrans timer interval: 4 Neighbor is up for 00:00:10 Authentication Sequence: [ 0 ] æ­¤æ—¶R3æ˜¯DRï¼ŒR1æ˜¯BDR","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"è¯¾ç¨‹","slug":"è¯¾ç¨‹","permalink":"https://eeeje.com/tags/%E8%AF%BE%E7%A8%8B/"}]},{"title":"åä¸ºè®¾å¤‡é™æ€è·¯ç”±çš„é…ç½®","slug":"Static","date":"2019-11-01T08:22:10.000Z","updated":"2019-11-18T11:16:13.001Z","comments":true,"path":"2019/11/01/Static/","link":"","permalink":"https://eeeje.com/2019/11/01/Static/","excerpt":"","text":"é™æ€è·¯ç”±ä¸€ç§æ‰‹åŠ¨é…ç½®çš„è·¯ç”±æ–¹å¼ï¼Œå„å‚å•†å¯¹é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§å¤„ç†ä¸åŒã€‚ ä¼˜å…ˆçº§åœ¨å®éªŒå¼€å§‹ä¹‹å‰ï¼Œé¦–å…ˆäº†è§£ä¸€ä¸‹åä¸ºè®¾å¤‡çš„è·¯ç”±ä¼˜å…ˆçº§ï¼ˆå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šå°ï¼‰ åè®®/ç§ç±» ä¼˜å…ˆçº§ direct 0 OSPF 10 IS-IS 15 Static 60 RIP 100 IBGP 130 OSPF ASE/import 150 EBGP 170 UNKNOWN 255 å¯ä»¥çœ‹åˆ°åä¸ºè®¾å¤‡çš„é™æ€è·¯ç”±ä¼˜å…ˆçº§æ˜¯ä½äºospfä¸isisçš„ï¼ˆä¸ç®—ç›´è¿è·¯ç”±ï¼‰ å®éªŒè®¾å¤‡å®éªŒä¸­ä½¿ç”¨çš„è®¾å¤‡ï¼šHUAWEI AR2220 &amp; PC å®éªŒæ‹“æ‰‘&amp;è§„åˆ’ å®éªŒç›®çš„åˆ©ç”¨é»˜è®¤è·¯ç”±ä»¥åŠé…ç½®é™æ€è·¯ç”±ä½¿PC1ä¸PC2ä¹‹é—´å¯ä»¥äº’é€š å®éªŒè¿‡ç¨‹ ç»™PCé…ç½®ç›¸åº”çš„IP ç»™R1ï¼ŒR2ï¼ŒR3é…ç½®å¯¹åº”æ¥å£IPï¼ˆä»¥R1ä¸ºä¾‹ï¼‰ R1ï¼š [R1]interface g 0/0/2 [R1-GigabitEthernet0/0/2]ip add 172.10.0.254 24 [R1-GigabitEthernet0/0/2]q [R1]interface g 0/0/0 [R1-GigabitEthernet0/0/0]ip add 10.1.1.1 30 [R1-GigabitEthernet0/0/0]q [R1]q &lt;R1&gt;saveç°åœ¨æˆ‘ä»¬å»çœ‹è·¯ç”±è¡¨ï¼ˆä»¥R1ä¸ºä¾‹ï¼‰,å‘½ä»¤display ip routing-table Routing Tables: Public Destinations : 10 Routes : 10 Destination/Mask Proto Pre Cost Flags NextHop Interface 10.1.1.0/30 Direct 0 0 D 10.1.1.1 GigabitEthernet 0/0/0 10.1.1.1/32 Direct 0 0 D 127.0.0.1 GigabitEthernet 0/0/0 10.1.1.3/32 Direct 0 0 D 127.0.0.1 GigabitEthernet 0/0/0 127.0.0.0/8 Direct 0 0 D 127.0.0.1 InLoopBack0 127.0.0.1/32 Direct 0 0 D 127.0.0.1 InLoopBack0 127.255.255.255/32 Direct 0 0 D 127.0.0.1 InLoopBack0 172.10.0.0/24 Direct 0 0 D 172.10.0.254 GigabitEthernet 0/0/2 172.10.0.254/32 Direct 0 0 D 127.0.0.1 GigabitEthernet 0/0/2 172.10.0.255/32 Direct 0 0 D 127.0.0.1 GigabitEthernet 0/0/2 255.255.255.255/32 Direct 0 0 D 127.0.0.1 InLoopBack0å¯ä»¥çœ‹åˆ°é…ç½®äº†IPçš„æ¥å£å’Œæ‰€åœ¨ç½‘ç»œéƒ½æ‹¥æœ‰äº†ä¸€æ¡è·¯ç”±ï¼Œè¿™å°±æ˜¯å‰é¢æåˆ°çš„ç›´è¿è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤è·¯ç”± é‚£ä¹ˆï¼Œæƒ³è¦å®ç°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæµç¨‹æ¥ç†è§£æ‰€ä»¥ï¼Œåœ¨R1,R2ä¸Šé…ç½®å‰å¾€PC2ç½‘æ®µçš„è·¯ç”±ï¼Œåœ¨R2,R3ä¸Šé…ç½®å‰å¾€PC1ç½‘æ®µçš„è·¯ç”±ï¼Œå³å¯å®ç°ç½‘ç»œäº’é€šã€‚ é…ç½®é™æ€è·¯ç”± R1ï¼š [R1]ip route-static 172.10.10.0 24 GigabitEthernet0/0/0 10.1.1.2 [R1]q &lt;R1&gt;save æŸ¥çœ‹R1è·¯ç”±è¡¨ï¼Œå¤šäº†ä¸€æ¡è¿™æ ·çš„è·¯ç”± 172.10.10.0/24 Static 60 0 D 10.1.1.2 GigabitEthernet 0/0/0å¯ä»¥çœ‹åˆ°ä¼˜å…ˆçº§,ä¸‹ä¸€è·³ï¼Œå‡ºæ¥å£ç­‰ä¿¡æ¯ R2ï¼š [R2]ip route-static 172.10.10.0 24 GigabitEthernet 0/0/2 10.1.1.6 [R2]q &lt;R1&gt;saveR3ï¼š [R3]ip route-static 172.10.0.0 24 GigabitEthernet 0/0/2 10.1.1.5 [R3]q &lt;R1&gt;saveéªŒè¯æ¥ä¸‹æ¥ï¼Œç”±ä»PC1pingPC2æ£€æŸ¥ç½‘ç»œæ˜¯å¦ç›¸é€š å®éªŒç»“æœPC1 ä¸ PC2 äº’é€š æµ®åŠ¨é™æ€è·¯ç”±é™æ€è·¯ç”±ä¼˜å…ˆçº§çš„ä¸€ç§ä½¿ç”¨æ–¹å¼ï¼Œé€šè¿‡é…ç½®ä¸åŒä¼˜å…ˆçº§çš„é™æ€è·¯ç”±å®ç°å¤‡ç”¨é“¾è·¯Q:é™æ€è·¯ç”±åº”è¯¥ä¹Ÿå¯ä»¥é€šè¿‡å’Œå…¶ä»–è·¯ç”±åè®®ï¼ˆospfç­‰ï¼‰ä¹‹é—´çš„ä¼˜å…ˆçº§å·®è·ï¼Œå®ç°å¤‡ç”¨é“¾è·¯å§ï¼Ÿ å®éªŒè®¾å¤‡HUAWEI AR2220 &amp; PC å®éªŒæ‹“æ‰‘&amp;è§„åˆ’ å®éªŒç›®çš„é…ç½®ä¸åŒä¼˜å…ˆçº§çš„é™æ€è·¯ç”±å®ç°å½“R2å‡ºç°æ•…éšœæ—¶ï¼Œåˆ‡æ¢ä¸ºå‰å¾€R3çš„è·¯ç”±ï¼Œä¿æŒç½‘ç»œé€šç•… å®éªŒè¿‡ç¨‹ç›¸å¯¹äºä¸Šä¸€ä¸ªå®éªŒç¯å¢ƒï¼Œåªå¤šäº†ä¸¤æ¡é™æ€è·¯ç”±ï¼Œæ‰€ä»¥ï¼Œç›´æ¥ä½¿ç”¨äº†ä¸Šä¸€ä¸ªå®éªŒç¯å¢ƒè¿›è¡Œé…ç½® å¢åŠ è¿çº¿ï¼Œå¹¶é…ç½®æ¥å£ip [R1]interface GigabitEthernet 0/0/1 [R1-GigabitEthernet0/0/1]ip add 10.1.1.9 30 [R1-GigabitEthernet0/0/1]q [R1]q &lt;R1&gt;saveâ€‹å½“å‰çš„è·¯ç”±è·¯å¾„ï¼ˆPC1pingPC2ï¼‰: PC&gt;tracert 172.10.10.1 traceroute to 172.10.10.1, 8 hops max (ICMP), press Ctrl+C to stop 1 172.10.0.254 16 ms 15 ms 16 ms 2 10.1.1.2 16 ms 31 ms 15 ms 3 10.1.1.6 32 ms 31 ms 31 ms 4 172.10.10.1 31 ms 32 ms 31 msé…ç½®æµ®åŠ¨é™æ€è·¯ç”±ï¼ˆä¼˜å…ˆçº§ä¸åŒçš„é™æ€è·¯ç”±ï¼‰R1ï¼š [R1]ip route-static 172.10.10.0 24 GigabitEthernet 0/0/1 10.1.1.10 preference 100 &lt;R1&gt;save ä¼˜å…ˆçº§é…ç½®ä¸º100ï¼Œä½äºä¹‹å‰é…ç½®çš„ç¼ºçœå€¼60 æ­¤æ—¶ä½¿ç”¨display ip routing-tableæŸ¥çœ‹è·¯ç”±è¡¨ï¼Œå¹¶æ²¡æœ‰çœ‹åˆ°è¿™æ¡è·¯ç”±ï¼ŒçŒœæµ‹æ˜¯å› ä¸ºæ²¡æœ‰ç”Ÿæ•ˆçš„åŸå›  R3ï¼š [R3]ip route-static 172.10.0.0 24 GigabitEthernet 0/0/0 10.1.1.9 preference 100 [R3]q &lt;R3&gt;save#### éªŒè¯&amp;æ’é”™å…³é—­R2æŸ¥çœ‹R1è·¯ç”±è¡¨ï¼Œå‘ç°å¹¶æ²¡æœ‰ä¹‹å‰é…ç½®çš„é‚£æ¡ä¼˜å…ˆçº§ä¸º100çš„è·¯ç”±æ¡ç›® å»ç¿»ä¹¦ï¼Œå‘ç°éœ€è¦ç”¨è¿™æ¡å‘½ä»¤å»æŸ¥display ip routing-table protocol static ç»“æœè¿˜æ˜¯æ²¡æœ‰ï¼Œå¯ä»¥çœ‹åˆ°å·²é…ç½®çš„è·¯ç”±æ•°é‡æ˜¯ä¸¤æ¡ï¼Œä½†æ˜¯Inactiveéƒ¨åˆ†å¹¶æ²¡æœ‰è·¯ç”±æ¡ç›® æŠŠè¿™æ¡å¤‡ç”¨è·¯ç”±undoäº†ï¼Œé‡æ–°é…ç½®ï¼ [R1]undo ip route-static 172.10.10.0 24 10.1.1.10 preference 100 å†å»ç”¨display ip routing-table protocol staticçœ‹è·¯ç”±è¡¨ æ²¡æœ‰äº†-é‡æ–°é…ç½®ï¼ŒæŸ¥çœ‹è·¯ç”±è¡¨ï¼Œè¿˜æ˜¯æ²¡æœ‰ï¼çŒœæµ‹ï¼šä¹¦ä¸Šä½¿ç”¨çš„å‘½ä»¤å¹¶æ²¡æœ‰é…ç½®å‡ºæ¥å£ï¼Œæˆ‘æ€€ç–‘æ˜¯è¿™é‡Œçš„é—®é¢˜ é‡æ–°é…ç½®ï¼Œå¹¶ä¸”ä¸æŒ‡å®šå‡ºæ¥å£ [R1]ip route-static 172.10.10.0 24 10.1.1.10 preference 100[R1]qsaveR3åŒç†ï¼Œundoäº†åŸæ¥çš„æ¡ç›®ï¼Œé‡æ–°é…ç½® [R3]undo ip route-static 172.10.0.0 24 GigabitEthernet 0/0/0 10.1.1.9 preference100~[R3]ip route-static 172.10.0.0 24 10.1.1.9 preference 100~~ åŠ äº†æ–°çš„ç‰©ç†è¿æ¥è¦è®°å¾—é…IPï¼ æ”¶è·ï¼šå½“é™æ€è·¯ç”±çš„å‡ºæ¥å£é…åœ¨æœªé…ç½®IPçš„æ¥å£ä¸Šæ—¶ï¼Œä¸ä¼šæ˜¾ç¤ºåœ¨è·¯ç”±è¡¨ä¸Šï¼Œè¿™æ—¶å€™ï¼Œå°±å¯ä»¥å»æ£€æŸ¥æ¥å£IPæ˜¯å¦æœ‰é—®é¢˜ éªŒè¯ å…³é—­R2çš„GE 0/0/0æ¥å£ [R2]interface GigabitEthernet 0/0/0 [R2-GigabitEthernet0/0/0]shutdown PC1pingpc2 å¤±è´¥ å¯¹R3çš„GE 0/0/0 0/0/1 0/0/2 åŒæ—¶è¿›è¡ŒæŠ“åŒ… å¯ä»¥çœ‹å‡ºæ¥ï¼ŒPC1å‘å‡ºçš„åŒ…åˆ°è¾¾äº†PC2ï¼ŒPC2è¿”å›çš„åŒ…å´è¢«R3å‘å¾€äº†ä¼˜å…ˆçº§ä¸º60çš„R2ï¼ŒR2éšä¹‹ä¸¢å¼ƒ å½“æˆ‘å…³é—­R2è®¾å¤‡æ—¶ é“¾è·¯æ˜¯æˆç«‹çš„ è´Ÿè½½å‡è¡¡é€šè¿‡æ¡ä¼˜å…ˆçº§ç›¸åŒï¼Œä¸‹ä¸€è·³ä¸åŒçš„é™æ€è·¯ç”±å®ç°è´Ÿè½½å‡è¡¡ ä¿®æ”¹ä¹‹å‰ä¼˜å…ˆçº§ä¸º100çš„è·¯ç”±[R1]ip route-static 172.10.10.0 24 GigabitEthernet 0/0/1 10.1.1.10 preference 60 å®Œæˆ æ€»ç»“åœ¨é…ç½®é™æ€è·¯ç”±æ—¶ï¼Œéœ€è¦æ³¨æ„æ•´ä¸ªé“¾è·¯çš„çŠ¶æ€ï¼Œé€šå¸¸æºç½‘ç»œä¸ç›®çš„ç½‘ç»œä¸­é—´çš„æ¯ä¸€å°è®¾å¤‡éƒ½è¦é…ç½®å¯¹åº”æŒ‡å‘çš„é™æ€è·¯ç”±ï¼Œå°±æƒ³æ¥åŠ›ä¸€æ ·ã€‚ â€‹ â€‹","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"è¯¾ç¨‹","slug":"è¯¾ç¨‹","permalink":"https://eeeje.com/tags/%E8%AF%BE%E7%A8%8B/"}]},{"title":"linuxä¸­dockerçš„ä½¿ç”¨ç¬”è®°","slug":"docker","date":"2019-10-31T11:17:10.000Z","updated":"2019-11-18T11:16:12.680Z","comments":true,"path":"2019/10/31/docker/","link":"","permalink":"https://eeeje.com/2019/10/31/docker/","excerpt":"","text":"å®¹å™¨éƒ¨åˆ†Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­,ç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„Linuxæœºå™¨ä¸Š,ä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–,å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶,ç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ æˆ‘è¿™é‡Œå‘¢ï¼Œå› ä¸ºä¹‹å‰æ­å»ºå¸¦hexoç¼–è¯‘ç¯å¢ƒä¸­çš„æœåŠ¡ä¸æˆ‘çš„nginxå†²çªï¼Œæœ‰å› ä¸ºæˆ‘å¯¹linuxä¸­httpæœåŠ¡çš„ä¸äº†è§£ï¼Œæ‰€ä»¥æƒ³åˆ°äº†æŠŠç¼–è¯‘ç¯å¢ƒæ­å»ºåœ¨è™šæ‹ŸåŒ–å®¹å™¨ä¸­åŠæ³•ï¼Œé˜¿é‡Œäº‘æœåŠ¡å™¨æœ¬å°±æ˜¯è™šæ‹Ÿæœºï¼Œdockeråˆ™æ˜¯ä¸€ä¸ª-æœ€ä½³æ–¹æ¡ˆ-ã€‚æœ€ç»ˆæˆ‘é€‰æ‹©ï¼Œå®å¡”å’Œç¼–è¯‘ç¯å¢ƒ éƒ½æ”¾å…¥å®¹å™¨ã€‚ è¿è¡Œå®¹å™¨docker run --name hexo-v2 -d -it -p 172.17.0.1:2121:22/tcp -p 4000:4000 hexo-v1â€“nameï¼šå®¹å™¨åå­—hexo-v2ï¼šæ–°å»ºçš„å®¹å™¨å -d ï¼šåå°è¿è¡Œ -itï¼šäº¤äº’æ¨¡å¼è¿è¡Œå¹¶åˆ†é…ä¼ªç»ˆç«¯ -pï¼šç«¯å£æ˜ å°„hexo-v1ï¼šä½¿ç”¨çš„é•œåƒåå­— è¿›å…¥å®¹å™¨docker exec -it hexo-v2 bashç°æœ‰å®¹å™¨å­˜ä¸ºé•œåƒdocker commit å®¹å™¨åç§° é•œåƒåç§°dockeré•œåƒçš„å¯¼å‡ºå’Œå¯¼å…¥æ˜¾ç¤ºå½“å‰dockerä¸­çš„é•œåƒï¼š docker imagesé•œåƒåˆ—è¡¨å¦‚ä¸‹ï¼š REPOSITORY TAG IMAGE ID CREATED SIZE pointsift latest 90b2ef439b40 2 weeks ago 12.6GB ubuntu 18.04 735f80812f90 4 weeks ago 83.5MBå¯¼å‡ºé•œåƒï¼š docker save -o &lt;ä¿å­˜è·¯å¾„&gt; &lt;é•œåƒåç§°:æ ‡ç­¾&gt;å¦‚æŠŠAæœº ubuntu:18.04 å¯¼å‡ºåˆ°å½“å‰æ–‡ä»¶å¤¹ï¼Œåˆ™åœ¨Aæœºä¸Šè¿è¡Œï¼š docker save -o ./ubuntu18.tar ubuntu:18.04 æ­¤æ—¶ï¼ŒæŠŠAæœºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ubuntu18.taræ‹·è´åˆ°å¦ä¸€å°å®‰è£…è¿‡dockerçš„Bæœºä¸Šï¼Œåœ¨Bæœºä¸Šå¯¼å…¥é•œåƒï¼š docker load --input ./ubuntu18.tarè¿™æ ·é•œåƒubuntu:18.04å°±æˆåŠŸçš„ä»Aæœºå¤åˆ¶åˆ°Bæœºä¸Šäº† dockerå®¹å™¨çš„å¯¼å‡ºä¸å¯¼å…¥æ˜¾ç¤ºå½“å‰dockerä¸­è¿è¡Œçš„å®¹å™¨ï¼š docker psè¿è¡Œçš„å®¹å™¨åˆ—è¡¨å¦‚ä¸‹ï¼š CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4a02996e83b1 ubuntu:18.04 &quot;/bin/bash&quot; 44 secondsago Up 42 seconds ubuntu18åœæ­¢å®¹å™¨ï¼š docker stop &lt;å®¹å™¨å&gt;å¦‚è¦æƒ³è¦å¯¼å‡ºubuntu18,å¿…é¡»å…ˆåœæ­¢ï¼ˆå¦‚æœubuntu18æ²¡æœ‰è¿è¡Œï¼Œåˆ™ä¸éœ€è¦æ‰§è¡Œæ­¤æ­¥éª¤ï¼‰ï¼š docker stop ubuntu18å¦‚æœå®¹å™¨å·²ç»åœæ­¢äº†ï¼Œæƒ³è¦æŸ¥çœ‹è¯¥å®¹å™¨ï¼Œå¯ä»¥è¿è¡Œï¼ˆè¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬è¿è¡Œçš„å’Œéè¿è¡Œçš„ï¼‰ï¼š docker ps -aå¯¼å‡ºå®¹å™¨ï¼š docker export &lt;å®¹å™¨å&gt; &gt; &lt;ä¿å­˜è·¯å¾„&gt;å¦‚å¯¼åœ¨Aæœºä¸­å¯¼å‡ºå®¹å™¨ubuntu18: docker export ubuntu18 &gt; ./ubuntu18.tarå¯¼å…¥å®¹å™¨çš„å‘½ä»¤ï¼š docker import &lt;æ–‡ä»¶è·¯å¾„&gt; &lt;å®¹å™¨å&gt;æŠŠAæœºå½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ubuntu18.taræ–‡ä»¶æ‹·è´åˆ°Bæœºä¸Šï¼Œåœ¨Bæœºä¸Šè¿è¡Œï¼š docker import ./ubuntu18.tar ubuntu18å¯åŠ¨å®¹å™¨ï¼š docker start &lt;å®¹å™¨å&gt;Bæœºä¸Šå°±å¤šäº†ä¸€ä¸ªåä¸ºubuntu18çš„å®¹å™¨ï¼Œä½†å¯¼å…¥çš„å®¹å™¨è¿˜å¤„åœ¨æœªè¿è¡Œçš„çŠ¶æ€ï¼Œéœ€è¦å¯åŠ¨å®¹å™¨ï¼š docker start ubuntu18è¿›å…¥å®¹å™¨ï¼š #åŒä¸€ä¸ªå®¹å™¨ä¼šæœ‰ç›¸åŒçš„ç•Œé¢ï¼Œå¦‚æœè¯¥å®¹å™¨ä¹‹å‰å·²ç»è¿è¡Œè¿‡ï¼Œåˆ™ä¼šç›´æ¥è¿›å…¥è¿è¡Œå®¹å™¨çš„ç•Œé¢#è¯¥å‘½ä»¤é€šå¸¸ç”¨äºè¿›å…¥åå°å·²ç»åœ¨è¿è¡Œçš„å®¹å™¨ docker attach &lt;å®¹å™¨å&gt; æˆ–è€…#åŒä¸€ä¸ªå®¹å™¨æœ‰ä¸åŒçš„ç•Œé¢ï¼Œè¿›å…¥å®¹å™¨åçš„ç•Œé¢ä¸ä¼šå—è¯¥å®¹å™¨çš„å…¶ä»–è¿è¡Œè€…çš„å½±å“#ä¸€èˆ¬æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨è¯¥å‘½ä»¤ docker exec -it &lt;å®¹å™¨å&gt; &lt;æ‰§è¡ŒæŒ‡ä»¤&gt; å¯åŠ¨å®¹å™¨ä¹‹åï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼Œå¯ä»¥è¿è¡Œï¼š docker exec -it ubuntu18 /bin/bashè¿™ä¸ªå‘½ä»¤è¿™æ ·ä¹Ÿå¯ä»¥ docker exec -it ubuntu18 bashâ€‹ å…³äºç«¯å£æ˜ å°„é—®é¢˜ç›®å‰æˆ‘å‘ç°çš„æœ€ä¼˜æ–¹æ¡ˆå°±æ˜¯æŠŠç°æœ‰å®¹å™¨å­˜ä¸ºé•œåƒï¼Œåˆ é™¤åŸæ¥çš„å®¹å™¨ï¼ˆä¸ç„¶ä¼šæé†’ç«¯å£è¢«å ç”¨ï¼‰é‡æ–°å»ºä¸€ä¸ªï¼Œå¹¶æ·»åŠ å¥½ç«¯å£æ˜ å°„ å®¹å™¨å¼€å¯ssh1ã€ä¸‹è½½centos7çš„é•œåƒdocker pull centos2ã€æŸ¥çœ‹å·²æœ‰çš„é•œåƒï¼Œå°†çœ‹åˆ°æœ‰ä¸ªåä¸ºcentosçš„é•œåƒdocker images3ã€åŸºäºcentosé•œåƒï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºtestçš„å®¹å™¨docker run -it â€“name test centos /bin/bash 4ã€è¿›å…¥å®¹å™¨åï¼Œå‡çº§å¹¶å®‰è£…sshæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯èƒ½è®©å…¶ä»–ä¸»æœºè¿œç¨‹ç™»å½•æœ¬æœºï¼Œå®¢æˆ·ç«¯èƒ½è®©æœ¬æœºè¿œç¨‹ç™»å½•å…¶ä»–ä¸»æœºyum -y update yum -y install passwd openssl openssh-server openssh-clients5ã€åˆ›å»º /var/run/sshd/ç›®å½•ï¼Œè¦ä¸ç„¶sshdæœåŠ¡å¯åŠ¨ä¼šæŠ¥é”™mkdir /var/run/sshd/6ã€ç¼–è¾‘sshdçš„é…ç½®æ–‡ä»¶/etc/ssh/sshd_configï¼Œå°†å…¶ä¸­çš„UsePAM yesæ”¹ä¸ºUsePAM noå¯ä»¥è¿›å…¥sshd_configæ–‡ä»¶ä¸­å»ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š sed -i &quot;s/UsePAM.*/UsePAM no/g&quot; /etc/ssh/sshd_config7ã€åˆ›å»ºå…¬ç§å¯†é’¥ï¼Œè¾“å…¥å‘½ä»¤åï¼Œç›´æ¥æŒ‰ä¸¤æ¬¡enteré”®ç¡®è®¤å°±è¡Œäº†ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key8ã€å®Œæˆä¸Šè¿°å‡ æ­¥åï¼Œå¯ä»¥å¼€å¯sshæœåŠ¡äº†/usr/sbin/sshd -D &amp;æ­¤æ—¶ä½¿ç”¨å‘½ä»¤ps -ef | grep sshd ä¾¿å¯ä»¥çœ‹åˆ°sshå·²ç»å¼€èµ·æ¥äº† è¾“å…¥å‘½ä»¤ yum -y install lsof lsof -i:22 //å¦‚æœåœ¨/etc/ssh/sshd_configæ–‡ä»¶ä¸­å°†ç«¯å£22ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆå¡«å†™ä½ ä¿®æ”¹äº†çš„ç«¯å£9ã€ä¿®æ”¹rootå¯†ç passwd ç„¶åè¾“å…¥è®¾ç½®çš„å¯†ç  10 æµ‹è¯•å®Œæˆ1vi /etc/hosts å¯ä»¥æŸ¥çœ‹åˆ°å®¹å™¨çš„ip 11ã€é…ç½®sshæ— å¯†ç ç™»å½•12345ssh-keygen -t rsacd ~/.sshcat id_rsa.pub &gt;&gt; authorized_keys è¾“å…¥å®Œåï¼Œè¿™æ—¶å†è¾“å…¥å‘½ä»¤ 1ssh localhost å‘ç°å¹¶ä¸ç”¨åœ¨è¾“å…¥å‘½ä»¤äº†ï¼šï¼‰ã€‚ sshæ— å¯†ç ç™»å½•å¯ç”¨hadoopé›†ç¾¤ä¸­masterä¸»èŠ‚ç‚¹æ— å¯†ç ç™»å½•ä»èŠ‚ç‚¹ã€‚ é˜¿é‡Œäº‘sshæ¬¢è¿è¯­é˜¿é‡Œäº‘è‡ªå¸¦çš„æ¬¢è¿è¯­å¤ªä¸‘äº†äºæ˜¯è‡ªå·±æ‰¾äº†æ‰¾è·¯å¾„åœ¨/etc/motdè¿™ä¸ªæ–‡ä»¶é‡Œé‡Œé¢çš„å†…å®¹æ”¹äº†å°±å¯ä»¥ æ—¥å¸¸æ‡’å¾—æˆªå›¾é•œåƒ/å®¹å™¨éƒ¨åˆ†è½¬è½½è‡ªï¼šhttps://www.jianshu.com/p/4e862a2a2d03SSHéƒ¨åˆ†è½¬è½½è‡ªï¼šhttps://blog.csdn.net/u013140345/article/details/79777311","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://eeeje.com/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://eeeje.com/tags/linux/"}]},{"title":"linuxä¸­å®‰è£…hexoç¼–è¯‘åšå®¢","slug":"hexo","date":"2019-10-28T17:41:10.000Z","updated":"2019-11-18T11:16:12.750Z","comments":true,"path":"2019/10/29/hexo/","link":"","permalink":"https://eeeje.com/2019/10/29/hexo/","excerpt":"","text":"èƒŒæ™¯å‡ å¤©å‰å°±çœ‹åˆ°æœåŠ¡å™¨è¦åˆ°æœŸäº†ï¼Œæ²¡å»ç®¡ä»–ï¼Œç»“æœç»™å¿˜äº†ï¼Œä»Šå¤©å‡Œæ™¨è¿‡æœŸäº†ï¼Œè¿™å°é˜¿é‡Œäº‘åä¸œ2ï¼ˆä¸Šæµ·ï¼‰çš„æœºå™¨ä¹Ÿç”¨äº†å¿«2å¹´äº†ï¼Œç‰©ç†ä½ç½®åœ¨ä¸Šæµ·è®©æˆ‘è¿™ä¸ªå¼ºè¿«ç—‡å¾ˆä¸èˆ’æœï¼Œè€Œä¸”40Gçš„ç›˜éƒ½ç”¨äº†30Gäº†ï¼ˆåæ­£å°±æ˜¯ç»™è‡ªå·±å„ç§ä¸å«Œéº»çƒ¦çš„å€Ÿå£ï¼‰ï¼Œçœ‹åˆ°æ–°å‡ºçš„å­¦ç”Ÿæœºæœ‰å¯ä»¥è´­ä¹°åœ¨åä¸œ1ï¼ˆæ­å·ï¼‰å°±æœæ–­é‡Šæ”¾äº†åŸæ¥çš„æœåŠ¡å™¨ï¼Œæ–°è´­äºæ­å·èŠ‚ç‚¹ä¹‹å‰ç”¨å®å¡”åšäº†å¤‡ä»½ç­–ç•¥ï¼Œæ‰€ä»¥æ•°æ®éƒ½å‚¨å­˜åœ¨æˆ‘çš„OSSé‡Œé¢å‰å‡ å¤©ç”¨hexoåœ¨githubä¸Šå‘å¸ƒäº†åšå®¢ï¼Œä½†æ˜¯åªèƒ½åœ¨æˆ‘è‡ªå·±çš„ç”µè„‘ä¸Šè¿›è¡Œç¼–è¯‘ï¼Œæœ‰ä¸€äº›å±€é™ï¼Œæ‰€ä»¥å…ˆåœ¨è¿™å°æœåŠ¡å™¨ä¸Šå®‰è£…hexoç”¨æ¥åœ¨äº‘ç«¯ç¼–è¯‘åšå®¢ã€‚é¡ºä¾¿å‘ç°äº†ä¸ªBUG,é˜¿é‡Œäº‘å­¦ç”Ÿæœºåœ¨è®¤è¯æœŸé™å†…ï¼Œå¥½åƒå¯ä»¥ä¸é™æ¬¡æ•°çš„ç»­è´¹ï¼Œæˆ‘å‡†å¤‡å­˜ç‚¹ç”Ÿæ´»è´¹ç»­ä»–ä¸ªåå¹´å…«å¹´çš„è¯•è¯•ã€‚åºŸè¯ä¸å¤šè¯´ å‘å¸ƒçš„æ—¶å€™å‘ç°åšå®¢å›­çš„Markdowné¢„æ ¼å¼åŒ–æ–‡æœ¬çœŸçš„å¾ˆçƒ¦ï¼Œæœ‰äº›ä»£ç ç›´æ¥æ˜¾ç¤ºæ–‡æœ¬äº†å®‰è£…è¿æ¥æœåŠ¡å™¨ç®¡ä½ cmdã€xshellã€hyperã€puttyè¿˜æ˜¯ä»€ä¹ˆçš„ï¼Œè¿çš„ä¸Šå°±å®Œäº‹ å®‰è£…node.jsè¿™æ˜¯ä¸ªJavaScriptè¿è¡Œç¯å¢ƒ è¿™ä¸€æ­¥å»ºè®®åœ¨ç‰¹å®šç›®å½•ä¸‹æ“ä½œ æ²¡æœ‰linuxåŸºç¡€è¯·è·Ÿæˆ‘åš mkdir /soft mkdir /soft/hexo cd /soft/hexo ä»å®˜ç½‘ä¸‹è½½linuxç‰ˆæœ¬çš„node.js æˆ–è€…ç›´æ¥é‡‡ç”¨wgetæ–¹å¼ä¸‹è½½ è¿™é‡Œä½¿ç”¨wgetä¸‹è½½ wget https://nodejs.org/dist/v10.9.0/node-v10.9.0-linux-x64.tar.xzâ€‹ æŠŠä»–è§£å‹äº† tar xf node-v10.9.0-linux-x64.tar.xz è§£å‹ä»¥åæµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ ç§»åŠ¨åˆ°ç›®å½• cd node-v10.9.0-linux-x64/æ‰§è¡Œå‘½ä»¤ ./bin/node -v // å¦‚æœå‡ºç°ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸä¿®æ”¹node-v10.9.0-linux-x64æ–‡ä»¶å¤¹åå­—ä¸ºnodejs cd .. mv node-v10.9.0-linux-x64 nodejs è®¾ç½®è½¯è¿æ¥ ln -s /soft/hexo/nodejs/bin/node /usr/local/bin/node ln -s /soft/hexo/nodejs/bin/npm /usr/local/bin/npmgitå®‰è£… å®‰è£…ä¾èµ–åŒ… yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel yum install gcc perl-ExtUtils-MakeMakeré€šè¿‡å‘½ä»¤ git --version å¯ä»¥çœ‹åˆ°ï¼ŒGit å½“å‰çš„ç‰ˆæœ¬å·ä¸º 1.8.3.1ï¼Œå¤ªè¿‡äºé™ˆæ—§ï¼Œæ‰€ä»¥éœ€è¦å…ˆæŠŠå®ƒç§»é™¤äº†ã€‚ å¸è½½æ—§ç‰ˆæœ¬çš„ Git yum remove gitç„¶åç§»åŠ¨åˆ°/usr/local/ cd /usr/local/ ä¸‹è½½å¹¶è§£å‹ wget https://github.com/git/git/archive/v2.9.2.tar.gz tar -zxvf v2.9.2.tar.gz // è§£å‹ mv git-2.9.2 git //é‡å‘½å ç¼–è¯‘å®‰è£… cd git // è¿›å…¥æ–‡ä»¶å¤¹ make prefix=/usr/local/git all // ç¼–è¯‘æºç  make prefix=/usr/local/git install // å®‰è£…è‡³ /usr/local/git è·¯å¾„ç¼–è¯‘æ—¶ï¼Œç”±æœºå™¨é…ç½®å†³å®šé€Ÿåº¦ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ æ‰“å¼€ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ vim /etc/profileåœ¨æ–‡ä»¶åº•éƒ¨æ·»åŠ ä»¥ä¸‹é…ç½®ã€‚ PATH=$PATH:/usr/local/git/bin // git çš„ç›®å½• export PATHä¸¤ä¸ªè¯­å¥éƒ½è¦åŠ ä¸Š åˆ·æ–°ç¯å¢ƒå˜é‡ source /etc/profileæœ€åå†ä½¿ç”¨ git --version æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œå·²ç»ä¸º 2.9.2 å®‰è£…hexonpm install hexo-cli -gæ­å»ºåšå®¢åŸºç¡€ å…ˆæŠŠhexoå‘½ä»¤æ·»åŠ åˆ°å…¨å±€ï¼šhexoåœ¨nodejsçš„lib/node_modules/hexo-cli/bin å¯ä»¥æ‰¾åˆ°hexoå‘½ä»¤æ–¹å¼æ˜¯é‡‡ç”¨è½¯è¿æ¥ ln -s /soft/hexo/nodejs/lib/node_modules/hexo-cli/bin/hexo /usr/local/bin/hexo éƒ¨ç½²hexoåšå®¢ç¯å¢ƒï¼šè¿™ä¸ªå¯ä»¥æ”¾åœ¨nodejså¤–é¢ï¼Œæ–¹ä¾¿æ‰“å¼€cd åˆ°å’Œnodejsä¸€ä¸ªç›®å½•ä¸‹ï¼ˆæˆ‘æ˜¯æ”¾åœ¨æ ¹ç›®å½•ä¸‹çš„ï¼‰ç„¶å: mkdir hexo cd hexo hexo init //ä¼šè‡ªåŠ¨æŠŠèµ„æºæ–‡ä»¶ä¸‹è½½å¥½è§£é‡Šä¸€ä¸‹node_modulesï¼šæ˜¯ä¾èµ–åŒ…publicï¼šå­˜æ”¾çš„æ˜¯ç”Ÿæˆçš„é¡µé¢scaffoldsï¼šå‘½ä»¤ç”Ÿæˆæ–‡ç« ç­‰çš„æ¨¡æ¿sourceï¼šç”¨å‘½ä»¤åˆ›å»ºçš„å„ç§æ–‡ç« themesï¼šä¸»é¢˜_config.ymlï¼šæ•´ä¸ªåšå®¢çš„é…ç½®db.jsonï¼šsourceè§£ææ‰€å¾—åˆ°çš„package.jsonï¼šé¡¹ç›®æ‰€éœ€æ¨¡å—é¡¹ç›®çš„é…ç½®ä¿¡æ¯ æ­æ¡¥åˆ°github åˆ›å»ºä¸€ä¸ªrepoï¼Œåç§°ä¸ºyourname.github.io, å…¶ä¸­yournameæ˜¯githubåç§°ï¼ˆæˆ‘å·²ç»æœ‰äº†ï¼Œå°±ä¸æˆªå›¾äº†ï¼‰ ä¸‹é¢çš„æ¯ä¸€æ­¥ï¼Œè¦æŠŠyournameæ¢ä¸ºè‡ªå·±çš„githubåå­—ï¼Œyouremailæ¢ä¸ºè‡ªå·±çš„githubé‚®ç®± é…ç½®githubè´¦æˆ·ä¿¡æ¯ git config --global user.name &quot;yourname&quot; git config --global user.email &quot;youremail&quot;â€‹åˆ›å»ºSSH è¾“å…¥ï¼šssh-keygen -t rsa -C &quot;youremail&quot;ï¼Œç”Ÿæˆssh ä¸‹é¢æç¤ºåœ°æ–¹ä¸€è·¯å›è½¦å°±å¯ä»¥ ç„¶åå»æ‰¾ç”Ÿæˆçš„sshkey cd ~/.ssh cat id_rsa.pubæŠŠå›æ˜¾çš„é‚£äº›å­—ç¬¦å¤åˆ¶å‡ºæ¥ åœ¨githubçš„settingä¸­æ‰¾åˆ°SSH and GPG keysï¼Œç‚¹å‡» New SSH key titleéšä¾¿å–ï¼Œkeyå°±å¡«åˆšåˆšé‚£ä¸€æ®µssh åœ¨gitbashä¸­éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸï¼šssh -T git@github.com ä¸€æ­¥ä¹‹é¥ ç”¨ç¼–è¾‘å™¨æ‰“å¼€ä½ çš„blogé¡¹ç›®ï¼Œä¿®æ”¹_config.ymlæ–‡ä»¶çš„ä¸€äº›é…ç½®(å†’å·ä¹‹åéƒ½æ˜¯æœ‰ä¸€ä¸ªåŠè§’ç©ºæ ¼çš„)æ³¨æ„YourgithubNameæ”¹ä¸ºä½ çš„ deploy: type: git repo: https://github.com/YourgithubName/YourgithubName.github.io.git branch: masterè¿™æ ·å­éœ€è¦æ¯æ¬¡éƒ½è¾“å…¥å¯†ç ï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡è¾“å…¥å¯†ç çš„è¯æŠŠhttps://github.com/YourgithubName/YourgithubName.github.io.gitæ”¹ä¸ºgit@github.com:YourgithubName/YourgithubName.github.io.git å›åˆ°gitbashä¸­ï¼Œè¿›å…¥ä½ çš„blogç›®å½•ï¼Œåˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ hexo clean hexo serverâ€‹ å¯åŠ¨æµ‹è¯•ç¯å¢ƒ hexo s è¾“å…¥ yourip:4000/å³å¯è®¿é—®é¡µé¢ å¦‚æœæ˜¯æœåŠ¡å™¨ï¼Œæˆ‘çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œéœ€è¦é…ç½®å®‰å…¨ç»„æ‰“å¼€4000ç«¯å£ï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®äº†æˆ–è€…linuxè™šæ‹Ÿæœºï¼Œéœ€è¦æµ‹è¯•å†…å¤–èƒ½å¦æ­£å¸¸é€šä¿¡æ¯æ¬¡ç¼–è¾‘å¥½éƒ½æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œä¸Šä¼  hexo clean hexo g //ç¼–è¯‘ hexo d //ä¸Šä¼  è¿™æ ·ï¼ŒåŸºæœ¬çš„hexoç¯å¢ƒå°±æ­å»ºå¥½äº†ã€‚","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"https://eeeje.com/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://eeeje.com/tags/linux/"}]},{"title":"TCP/UDP","slug":"tcp","date":"2019-10-28T11:41:10.000Z","updated":"2019-11-18T11:16:13.029Z","comments":true,"path":"2019/10/28/tcp/","link":"","permalink":"https://eeeje.com/2019/10/28/tcp/","excerpt":"","text":"ä¼ è¾“åè®®ä¹‹-TCP/UDPå¯¹æ¯”TCP å¯é  é¢å‘è¿æ¥-ç±»ä¼¼æ‰“ç”µè¯/æ”¶åˆ°æ‰£1 ä½†æ˜¯æ•ˆç‡æ¯”è¾ƒä½UDP ä¸å¯é çš„ é¢å‘æ— è¿æ¥-ç±»ä¼¼ç¾¤èŠ æ•ˆç‡é«˜egï¼šQQä¼ æ–‡ä»¶-TCPï¼ˆä¿è¯æ–‡ä»¶å®Œæ•´ï¼‰ï¼Œå‘æ¶ˆæ¯-UDP æ•°æ®åŒ…ç»“æ„ TCPtcpä¸‰æ¬¡æ¡æ‰‹ ç”²ï¼šä½ æ˜¯å°ç‹ï¼Ÿä¹™ï¼šæ˜¯çš„ï¼Œæˆ‘æ˜¯å°ç‹ï¼Œä½ æ˜¯è€æå—ï¼Ÿç”²ï¼šæ˜¯çš„æˆ‘æ˜¯è€æ æµç¨‹ï¼šä¸»æœº1å‘é€SYNseq=0ï¼Œctl=SYNï¼ˆseqæ ‡è®°ä½ï¼Œåºåˆ—å·ï¼‰ â€“&gt;ä¸»æœº2æ”¶åˆ°SYNï¼Œå‘é€SYNåŠACKï¼ˆç¡®è®¤å·ï¼šæ”¶åˆ°çš„åºåˆ—å·+1ï¼‰seq=0ï¼ˆåºåˆ—å·ï¼‰,ack=1,ctl=SYN(åŒæ­¥ä½),ACKâ€“â€”&gt;ä¸»æœº1æ”¶åˆ°STNåŠACKï¼ŒEstablishedseq=1 ack=1 ctl=ACKæŠ“åŒ…å®ä¾‹ æ‹“å±•ï¼šå®‰å…¨æ–¹å‘-SYN Floodï¼ˆæ´ªæ°´ï¼‰æ”»å‡»æ˜¯ddosçš„ä¸»è¦æ–¹å¼ï¼Œé€šè¿‡åƒµå°¸ç½‘ç»œå‘é€å¤§é‡çš„ç¬¬ä¸€ä¸ªSYNæŠ¥æ–‡ï¼Œå¹¶ä¸å›å¤ç¬¬äºŒä¸ªåŒ…ã€‚ tcpä¼šè¯ç¡®è®¤ æ‰€æœ‰çš„åŒ…éƒ½è¦ç¡®è®¤ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªåŒ…æ˜¯æ²¡æœ‰ç¡®è®¤å·çš„ æœ€ç»ˆçš„ç¡®è®¤å·å°±æ˜¯æ•°æ®çš„å¤§å°ä¸»æœº1 seq=1 ack=1 |Dataï¼ˆ9å­—èŠ‚ï¼‰â€“&gt;ä¸»æœº2 seq=1 ack=10 |Dataï¼ˆ20å­—èŠ‚ï¼‰â€œack=10ç†è§£ä¸ºâ€˜ä½ å¯ä»¥å‘é€åºåˆ—å·ä¸º10çš„æ•°æ®åŒ…äº†â€™â€â€“&gt;ä¸»æœº1 seq=10 ack=21 |Dataï¼ˆ12å­—èŠ‚ï¼‰â€“&gt;ä¸»æœº2 seq=21 ack=22 |Dataï¼ˆnå­—èŠ‚ï¼‰ ç¡®è®¤å·å°±æ˜¯å‰ä¸€ä¸ªåŒ…çš„åºåˆ—å·+æ•°æ® ä¸æ˜¯æ¯ä¸€ä¸ªåŒ…éƒ½ä¼šç¡®è®¤ï¼Œä¸»æœº2è¿ç»­å‘åŒ…æ—¶ä¸»æœº1å¤šä¸ªåŒ…å›å¤ä¸€ä¸ªç¡®è®¤ã€‚ ç†è§£ï¼šä¹™ç»™ç”²è¯´äº†å¾ˆå¤šå¥è¯ï¼Œç”²å›å¤ä¹™ï¼Œå‰å‡ å¥è¯æˆ‘éƒ½å¬åˆ°äº†ï¼Œç„¶åä¹™æ¥ç€è®²è¯ã€‚æŠ“åŒ…å®ä¾‹ï¼ˆä»é˜¿é‡Œäº‘ossä¸‹è½½æ–‡ä»¶ï¼‰ tcpä¼šè¯çš„æ‹¥å¡å’Œæµé‡æ§åˆ¶ â€œä½ è¯´å¤ªå¿«äº†ï¼Œæ…¢ç‚¹â€â€œä½ è¯´å¤ªæ…¢äº†ï¼Œå¿«ç‚¹â€ æ¯ä¸ªæ•°æ®åŒ…æœ‰ä¸ªwindowå­—æ®µ win çª—å£å¤§å°å†³å®šäº†åœ¨æ”¶åˆ°ç¡®è®¤å‰å¯ä»¥å‘é€çš„å­—èŠ‚æ•°ã€‚æŠ“åŒ…å®ä¾‹ï¼ˆä¸‹è½½æ–‡ä»¶ï¼‰å®é™…æŠ“åŒ…è¿‡ç¨‹ä¸­å‘ç°ï¼ŒæœåŠ¡å™¨å‘è¿‡æ¥çš„åŒ…è¦è¿œè¶…è¿‡ä¸»æœºç¡®è®¤åŒ…ä¸­çš„çª—å£å¤§å°ã€‚Qï¼šwhyï¼Ÿ tcpä¼šè¯çš„ç»ˆæ­¢-å››æ¬¡æŒ¥æ‰‹ å°ç‹ï¼šæˆ‘è¦æŒ‚äº†è€æï¼šå¥½çš„ï¼Œå†è§è€æï¼šæˆ‘ä¹ŸæŒ‚äº†å°ç‹ï¼šå¥½çš„ï¼Œå†è§ ç»ˆæ­¢ä½FINï¼Œä½äºflagesçš„æœ€åä¸€ä¸ªå­—èŠ‚å¹¶ä¸ä¸€å®šæ˜¯æ‰€æœ‰çš„ç»ˆæ­¢éƒ½æœ‰å››æ¬¡æ¡æ‰‹æ¯”å¦‚æˆ‘çš„å¤šæ¬¡å°è¯•éƒ½æ²¡æœ‰æŠ“åˆ°å››æ¬¡æ¡æ‰‹çš„ç»ˆæ­¢ä¼šè¯å¯ä»¥çœ‹åˆ°ä¸»æœºå‘å‡ºäº†å¸¦FINçš„åŒ…ï¼ŒæœåŠ¡å™¨ç¡®è®¤äº†ä¸Šä¸€ä¸ªåŒ…å¹¶å¸¦äº†FINæ ‡è¯†ï¼Œä¸»æœºç¡®è®¤äº†è¿™ä¸ªåŒ…åè¿æ¥è¢«å…³é—­ã€‚å¦å¤–ï¼Œæˆ‘åœ¨æŠ“åŒ…æ—¶å‘ç°äº†å¦å¤–ä¸€ä¸ªç°è±¡ï¼šå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨å‘å‡ºä¸€ä¸ªå¸¦æœ‰FINæ ‡è¯†çš„åŒ…åä¸»æœºå…ˆè¿”å›äº†ä¸€ä¸ªç¡®è®¤åŒ…ï¼Œåˆè¿ç»­çš„å‘å‡ºäº†ä¸€ä¸ªå¸¦æœ‰æ€¥è¿«æ ‡è¯†çš„åŒ…ä¸ä¸€ä¸ªå¸¦æœ‰é‡ç½®æ ‡è¯†çš„åŒ…ï¼ŒæœåŠ¡å™¨è¿”å›äº†é‡ç½®çš„åŒ…ï¼Œè¿æ¥é‡æ–°å»ºç«‹ã€‚ UDPUDPæ˜¯ä¸€ç§é¢å‘æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œä¼ è¾“å¯é æ€§æ²¡æœ‰ä¿è¯udpä¸æä¾›é‡ä¼ è®°ä½ï¼Œå ç”¨èµ„æºå°ï¼Œå¤„ç†æ•ˆç‡é«˜ä¸€äº›æ—¶å»¶æ•æ„Ÿçš„æµé‡ï¼Œå¦‚è¯­éŸ³ã€è§†é¢‘ã€æ¸¸æˆç­‰ï¼Œé€šå¸¸ä½¿ç”¨udpä½œä¸ºä¼ è¾“å±‚åè®®egï¼šçœ‹è§†é¢‘å¡é¡¿ï¼Œå¤±çœŸï¼Œç©æ¸¸æˆå¡é¡¿ æ€»ç»“å¯¹æ¯” ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼‰ ç”¨æˆ·æ•°æ®åè®®ï¼ˆUDPï¼‰ é¢å‘è¿æ¥ æ— è¿æ¥ å¯é ä¼ è¾“ å°½åŠ›è€Œä¸ºçš„ä¼ è¾“ æ”¯æŒæµæ§åŠçª—å£æœºåˆ¶ æ— æµæ§åŠçª—å£æœºåˆ¶ HTTPã€FTPç­‰ TFTPã€DNSã€DHCPç­‰","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"https://eeeje.com/tags/%E5%AD%A6%E4%B9%A0/"}]},{"title":"1027ç¬”è®°","slug":"1027","date":"2019-10-27T05:57:10.000Z","updated":"2019-11-18T11:16:12.361Z","comments":true,"path":"2019/10/27/1027/","link":"","permalink":"https://eeeje.com/2019/10/27/1027/","excerpt":"","text":"è·¯ç”±å™¨é€‰è·¯çš„æ–¹å¼ä¾é è·¯ç”±è¡¨ è·¯ç”±å™¨é€‰è·¯ å…ˆåŒ¹é…ç­–ç•¥è·¯ç”±ï¼Œå¦‚æœæ²¡æœ‰å†å»æŸ¥è·¯ç”±è¡¨è·¯ç”±è¡¨é‡Œé¢ä¸€å®šå­˜æ”¾çš„æ˜¯æœ€ä¼˜çš„è·¯ç”±è·¯ç”±è¡¨ä¼šæœ€å®¢è§‚æ˜¾ç¤ºå‡ºå½“å‰çš„è·¯ç”±æƒ…å†µ é—®é¢˜å¤„ç†ï¼šåè¯æŸ¥è¯¢ï¼Œç†è§£è¿æ¥èµ·æ¥ è·¯ç”±è¡¨static rip ospf isis bgpç­‰éƒ½æ˜¯ä¸‰å±‚åè®®=è·¯ç”±åè®®direct ç›´è¿è·¯ç”±pre ä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ æ¯å®¶å‚å•†çš„ä¼˜å…ˆçº§éƒ½æ˜¯ä¸åŒçš„ åä¸ºï¼š Direct OSPF Static RIP 0 10 60 100 cost æ‹¥æŒ¤ç¨‹åº¦ å¸¦å®½ å¼€é”€ å‚è€ƒç³»å¾ˆå¤šospfå¸¦å®½Â·ripÂ·è·³æ•° nexthop ä¸‹ä¸€è·³interface å‡ºæ¥å£ï¼ˆå¯¹è‡ªå·±æ¥è¨€ï¼‰æ¯æ¡å°±æ˜¯ä¸€ä¸ªè·¯ç”±æ¡ç›® çœ‹OSPF é™æ€è·¯ç”±å‡ºæ¥å£ã€ä¸‹ä¸€è·³éƒ½è¿›è¡Œé…ç½® ä»»åŠ¡Hcnaå®éªŒæŒ‡å—é™æ€è·¯ç”±å®éªŒ æ‹“æ‰‘æˆªå›¾OSPFå®éªŒ","categories":[{"name":"è·¯ç”±äº¤æ¢","slug":"è·¯ç”±äº¤æ¢","permalink":"https://eeeje.com/categories/%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2/"}],"tags":[{"name":"è¯¾ç¨‹","slug":"è¯¾ç¨‹","permalink":"https://eeeje.com/tags/%E8%AF%BE%E7%A8%8B/"}]},{"title":"è®°å½•ä¸‹äº¬ä¸œå¤‡ä»¶åº“è´­ç‰©ç»å†","slug":"shopping","date":"2019-10-23T14:48:10.000Z","updated":"2019-11-18T11:16:12.903Z","comments":true,"path":"2019/10/23/shopping/","link":"","permalink":"https://eeeje.com/2019/10/23/shopping/","excerpt":"","text":"æˆ‘çš„ç¬¬ä¸€ç¯‡æ­£å¼åšå®¢è®°å½•ä¸€æ¬¡äº¬ä¸œå¤‡ä»¶åº“è´­ç‰©ç»å†åšå®¢åŸºäºhexoç¼–å†™ï¼Œæ‰˜ç®¡äºGithubï¼Œå›¾ç‰‡ä½¿ç”¨é˜¿é‡Œossæ‰˜ç®¡å‰å‡ å¤©å¶å°”åœ¨å¼ å¤§å¦ˆçœ‹åˆ°å¾ˆå¤šå¤‡ä»¶åº“æ™’å•å¸–å­ï¼Œå¥½å¤šäººä¹°åˆ°äº†åˆè‡ªå·±å¿ƒæ„ä»·æ ¼åˆåˆ’ç®—çš„ä¸œè¥¿ï¼Œå°±å¾ˆå¥½å¥‡çš„å»çœ‹äº†çœ‹å¤‡ä»¶åº“ï¼ˆäº¬ä¸œæœç´¢å¤‡ä»¶åº“ï¼‰æ¥ç€å°±æœ‰äº†è¿™ä¸ªè´­ç‰©ç»å† å…ˆä»‹ç»ä¸‹äº¬ä¸œå¤‡ä»¶åº“è¿™æ˜¯äº¬ä¸œçš„å®˜æ–¹ä»‹ç» é¦–å…ˆæ¥è®²æ¸ é“ä»æ¥æºä¸Šæ¥è®²ï¼Œå¤‡ä»¶åº“çš„å•†å“æ˜¯æ¥è‡ªè‡ªè¥åº—ï¼Œé‚£ä¹ˆäº§å“ä»æ¸ é“ä¸Šæ¥è®²æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè™½ç„¶è¯´å®˜æ–¹ç»™äº†å¥½å‡ ä¸ªæ¥æºï¼Œä½†æ˜¯æˆ‘è§‰å¾—æœ€ä¸»è¦çš„é€”å¾„æ˜¯æ¥è‡ªäºâ€œ7å¤©æ— ç†ç”±é€€æ¢è´§â€çš„æ”¿ç­– å…¶æ¬¡è¯´æˆè‰²å®˜æ–¹ç»™å‡ºäº†3ä¸ªæ ‡å‡†ï¼Œåˆ†åˆ«æ˜¯99æ–° 9æˆæ–° 7æˆæ–° å¤‡ä»¶åº“ä¸€èˆ¬éƒ½ä¼šåšå®Œæ£€æµ‹è¯„å®Œçº§å†è¿›è¡Œå…¥åº“ï¼Œ99æ–°å’Œ9æˆæ–°ä¸€èˆ¬éƒ½æ˜¯æœªæ‹†å°/æ‹†å°æœªä½¿ç”¨/è½»åº¦ä½¿ç”¨çš„ä¸œè¥¿ï¼Œæˆ‘ä¸»è¦è¯´ä¸€ä¸‹7æˆæ–° ï¼Œ7æˆæ–°æœ€å¼•äººæ³¨æ„çš„æ˜¯ä»·æ ¼è¶³å¤Ÿä¾¿å®œï¼Œè€Œä»æˆè‰²æ¥è®²ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç§äº§å“è¾ƒå·® åŒ…è£…è¾ƒå·® äº§å“,åŒ…è£…éƒ½å·® äºæ˜¯ä¹ï¼Œåœ¨å¤‡ä»¶åº“â€œ7å¤©æ— ç†ç”±é€€è´§â€çš„è›Šæƒ‘ä¸‹ï¼Œæˆ‘ä¹°äº†ä¸¤æ¬¾ä¸ƒæˆæ–°çš„å¤–è®¾ã€‚ å¼€ç®±æˆ‘ä¹°çš„ä¸¤æ¬¾å¤–è®¾åˆ†åˆ«æ˜¯ç½—æŠ€ G903åŒæ¨¡æ¸¸æˆé¼ æ ‡å’Œé›·è›‡ é›·éœ†é½¿é²¸V2 USBç‰ˆ ç½—æŠ€ G903æ–°å“å”®ä»·799å…ƒï¼Œå…¥æ‰‹366å…ƒ è¿™æ¬¾é¼ æ ‡çœŸçš„æ˜¯çœ¼é¦‹äº†å¾ˆä¹…ï¼Œå¥ˆä½•799çš„ä»·æ ¼è®©æˆ‘æœ›è€Œå´æ­¥ åŒ…è£… å¤‡ä»¶åº“ä¸“ç”¨çš„ç™½è‰²å¤§æ ‡ç­¾ï¼Œå…¶å®æˆ‘çœ‹åˆ°åŒ…è£…çš„æ—¶å€™æ˜¯æ¯”è¾ƒæ…Œçš„ï¼ŒåŒ…è£…è¿˜è¡Œï¼Œä¸­è§„ä¸­çŸ©ï¼Œäº§å“ä¼šä¸ä¼šæˆè‰²ä¸è¡Œ æ­£é¢ è¿™æ˜¯æˆ‘ç”¨äº†ä¸¤å¤©æ‹çš„ç…§ç‰‡ï¼Œæ­£é¢æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä¸­é—´æœ‰ä¸€ç‚¹ç°å°˜ï¼Œå¹ä¸€å¹å°±æ‰äº† èƒŒé¢ çœ‹æ¥è¢«è¯„ä¸º7æˆæ–°çš„åŸå› å°±åœ¨è¿™é‡Œäº†ï¼Œæ»‘ç‰‡é‚£é‡Œæ˜æ˜¾å¯ä»¥çœ‹åˆ°è®¸å¤šåˆ’ç—•ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šä¸Šä¸€ä¸ªä½¿ç”¨è€…æ˜¯åœ¨æ²¡æœ‰é¼ æ ‡å«çš„åœºæ™¯ä¸‹è¿›è¡Œä½¿ç”¨çš„ æ€»ä½“æ¥è¯´ï¼Œä»¥366çš„å‡ ä¸ªä¹°åˆ°è¿™æ ·çš„ä¸€åªé¼ æ ‡è¿˜æ˜¯å¾ˆåˆ’ç®—çš„ï¼Œå› ä¸ºæˆ‘ç”¨çš„å¤§é¼ æ ‡å«ï¼Œä¸‹é¢çš„åˆ’ç—•åŸºæœ¬å¯¹æˆ‘ä½¿ç”¨æ²¡æœ‰é€ æˆå½±å“ï¼Œä¸‹è½½äº†é©±åŠ¨ï¼Œæµ‹è¯•äº†ä¸€ç•ªåç¾æ»‹æ»‹çš„ç”¨èµ·æ¥äº†ï¼ˆæ— çº§æ»šè½®æ˜¯çœŸçš„çˆ½ï¼‰ã€‚å…³äºG903çš„ä½¿ç”¨ç­‰å¯ä»¥å»çœ‹å…¶ä»–å¤–è®¾åšä¸»çš„æµ‹è¯„ï¼Œè¿™é‡Œå°±ä¸è¿›è¡Œé˜è¿°äº† é›·è›‡ é›·éœ†é½¿é²¸V2 USBç‰ˆæ–°å“å”®ä»·469å…ƒ åˆ°æ‰‹150å…ƒ ä¹°è€³æœºçš„åŸå› å‘¢ï¼Œæ˜¯å› ä¸ºå¯å®¤æœ‰ä¸€ä½å®¤å‹ï¼Œç©æ¸¸æˆæ—¶ç‰¹åˆ«çš„â€œå…´å¥‹â€ï¼Œç®€å•å½¢å®¹ä¸€ä¸‹ï¼š.ï¼Œåˆšå¥½æˆ‘åˆæŠ¥äº†HCIEçš„ç½‘ç»œè¯¾ç¨‹ï¼Œæ‰€ä»¥æˆ‘è¿«åˆ‡çš„éœ€è¦ä¸€æ”¯å¤´æˆ´å¼è€³æœºï¼Œè®©æˆ‘å¯ä»¥åœ¨å¯å®¤é‡Œæ´»ä¸‹å»ã€‚ åŒ…è£… è€³æœºçš„åŒ…è£…æ‹¿åˆ°æ‰‹åè®©äººå®³æ€•ï¼Œå¡‘æ–™å˜å½¢ï¼Œå®½èƒ¶å¸¦ç²˜èµ·æ¥çš„ç›’å­ äº§å“ æ‹¿å‡ºè€³æœºåå‘ç°ï¼Œç«Ÿç„¶æ˜¯æ–°çš„ï¼ï¼ˆå¿ƒé‡Œå¼€äº†èŠ±ï¼‰ï¼Œæ£€æŸ¥äº†ä¸‹å¤–è§‚ï¼Œæ²¡æœ‰ä»»ä½•ä½¿ç”¨ç—•è¿¹ï¼Œæ¥ç€å°±æ˜¯äºŒæ‰‹å¤´æˆ´è€³æœºæˆè‰²æ£€æµ‹æ³•ï¼š é—»ï¼Œå› ä¸ºè€³æœºç»è¿‡é•¿æ—¶é—´ä½¿ç”¨åï¼Œå¤´éƒ¨åŒºåŸŸå› ä¸ºå‡ºæ±—æˆ–è€…æ´—å‘æ°´çš„ç¼˜æ•…ï¼Œæˆ–å¤šæˆ–å°‘çš„ä¼šæœ‰ä¸€äº›å‘³é“ç•™åœ¨ä¸Šé¢ï¼Œè¿™æ—¶å€™å°±å¯ä»¥é€šè¿‡å‘³é“çš„æ·±æµ…ç¡®å®šä½¿ç”¨çš„æ—¶é—´é•¿çŸ­ï¼Œå—¯~æ˜¯æ¸…æ–°çš„å¡‘æ–™å‘³ï¼Œç­‰ç­‰ï¼Ÿå¡‘æ–™å‘³ï¼Ÿhhhhhè¿æ°”æ­£å¥½ï¼Œæ’¸åˆ°äº†å‡†å…¨æ–°ï¼Œçœ‹æ¥è¿™å°±æ˜¯æˆ‘å‰é¢æåˆ°çš„åŒ…è£…è¾ƒå·® ç»†èŠ‚150å—ä¹°åˆ°è¿™æ ·ä¸€æ¬¾å‡†å…¨æ–°è€³æœºçœŸçš„æ˜¯èµšåˆ°äº†ï¼Œ40mmé’•ç£é“é©±åŠ¨å•å…ƒã€å¯æ‹†å¸éº¦å…‹é£ï¼Œç»ˆäºå¯ä»¥é€‚é‡çš„å‡è½»è€³æœµçš„å‹åŠ›äº† æ€»ç»“å¦‚æœä½ ä¸ä»‹æ„äºŒæ‰‹çš„è¯ï¼Œç›¸å¯¹äºå’¸é±¼æ¥è·¯ä¸æ˜¯å¾ˆæ¸…æ™°çš„ä¸œè¥¿ï¼Œäº¬ä¸œå¤‡ä»¶åº“ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œ99æ–°å’Œ9æˆæ–°åŸºæœ¬å¯ä»¥è€ƒè™‘å…¥æ‰‹ï¼Œä»·æ ¼ç›¸å¯¹æ¥è¯´è¿˜ç®—ç¾ä¸½ï¼Œå°±ç®—ä¸æ»¡æ„ä¹Ÿæœ‰â€œä¸ƒå¤©æ— ç†ç”±é€€è´§â€çš„æ”¿ç­–è®©ä½ åæ‚”ï¼Œè‡³äº7æˆæ–°ï¼Œåˆšéœ€çš„æœ‹å‹å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œæ¯•ç«Ÿä»·æ ¼å¤ªè¯±äººï¼Œä¹Ÿæœ‰â€œ7å¤©â€æ”¿ç­–åšä¿éšœï¼Œæœ€åç•™ä¸€å¥ï¼šå¤‡ä»¶åº“çœ‹çœ‹å°±å¥½äº†ï¼Œåƒä¸‡åˆ«å»å¤ºå®å²›æ‹ä¸œè¥¿ï¼Œè¢«äººç§°ä½œâ€œå¤ºå‘½å²›â€æ˜¯æœ‰åŸå› çš„ã€‚","categories":[{"name":"è´­ç‰©","slug":"è´­ç‰©","permalink":"https://eeeje.com/categories/%E8%B4%AD%E7%89%A9/"}],"tags":[{"name":"è´­ç‰©","slug":"è´­ç‰©","permalink":"https://eeeje.com/tags/%E8%B4%AD%E7%89%A9/"}]}]}